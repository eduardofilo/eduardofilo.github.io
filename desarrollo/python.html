



<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Apuntes varios sobre algunas de las cosas que necesito recordar, principalmente sobre Desarrollo y Sistemas.">
      
      
      
        <meta name="author" content="Eduardo Moreno Lamana">
      
      
        <meta name="lang:clipboard.copy" content="Copiar al portapapeles">
      
        <meta name="lang:clipboard.copied" content="Copiado al portapapeles">
      
        <meta name="lang:search.language" content="es">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No se encontraron documentos">
      
        <meta name="lang:search.result.one" content="1 documento encontrado">
      
        <meta name="lang:search.result.other" content="# documentos encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.2">
    
    
      
        <title>Python/Django - Apuntes de eduardofilo</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.3020aac5.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#ff7043">
      
    
    
      <script src="../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
      <link rel="manifest" href="../manifest.webmanifest">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="deep-orange" data-md-color-accent="amber">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#pythondjango" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../index.html" title="Apuntes de eduardofilo" class="md-header-nav__button md-logo">
          
            <img src="../images/eduardofilo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Apuntes de eduardofilo
            </span>
            <span class="md-header-nav__topic">
              Python/Django
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Teclee para comenzar búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/eduardofilo/eduardofilo.mkdocs/" title="Ir al repositorio" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    eduardofilo.mkdocs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../index.html" title="Blog" class="md-tabs__link">
        Blog
      </a>
    
  </li>

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../cursos/phonegap.html" title="Cursos" class="md-tabs__link">
          Cursos
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="android.html" title="Desarrollo" class="md-tabs__link md-tabs__link--active">
          Desarrollo
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../electronica/arduino.html" title="Electrónica" class="md-tabs__link">
          Electrónica
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../proyectos/headsetcomm.html" title="Proyectos" class="md-tabs__link">
          Proyectos
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../sistemas/android_system.html" title="Sistemas" class="md-tabs__link">
          Sistemas
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../varios/bici.html" title="Varios" class="md-tabs__link">
          Varios
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Apuntes de eduardofilo" class="md-nav__button md-logo">
      
        <img src="../images/eduardofilo.png" width="48" height="48">
      
    </a>
    Apuntes de eduardofilo
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/eduardofilo/eduardofilo.mkdocs/" title="Ir al repositorio" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    eduardofilo.mkdocs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" title="Blog" class="md-nav__link">
      Blog
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2019-07-07-crankshaft-build.html" title="2019-04-20 Compilación OpenAuto para solucionar touch screen" class="md-nav__link">
      2019-04-20 Compilación OpenAuto para solucionar touch screen
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2019-04-20-pong_composite_mod.html" title="2019-04-20 Composite mod en consola Pong" class="md-nav__link">
      2019-04-20 Composite mod en consola Pong
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2019-01-29-bloqueo_telsome.html" title="2019-01-29 Bloqueo de llamadas entrantes en Telsome" class="md-nav__link">
      2019-01-29 Bloqueo de llamadas entrantes en Telsome
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2019-01-26-conversion_apuntes_mkdocs.html" title="2019-01-26 Conversión del sitio de Apuntes a MkDocs" class="md-nav__link">
      2019-01-26 Conversión del sitio de Apuntes a MkDocs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2018-10-20-Octoprint-en-Anet-A8.html" title="2018-10-20 Octoprint en Anet A8" class="md-nav__link">
      2018-10-20 Octoprint en Anet A8
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2018-10-19-crankshaft.html" title="2018-10-18 Crankshaft - AndroidAuto sobre Raspberry Pi" class="md-nav__link">
      2018-10-18 Crankshaft - AndroidAuto sobre Raspberry Pi
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2018-05-05-otto.html" title="2018-05-05 Otto DIY" class="md-nav__link">
      2018-05-05 Otto DIY
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2017-01-14-raspi2-kodi-16-tvheadend.html" title="2017-01-14 Raspberry Pi 3 + KODI 16 + Tvheadend" class="md-nav__link">
      2017-01-14 Raspberry Pi 3 + KODI 16 + Tvheadend
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2016-12-06-raspi3-kodi.html" title="2016-12-06 Raspberry Pi 3 + KODI" class="md-nav__link">
      2016-12-06 Raspberry Pi 3 + KODI
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2016-10-17-raspi-switch.html" title="2016-10-17 Interruputor de encendido para Raspberry Pi" class="md-nav__link">
      2016-10-17 Interruputor de encendido para Raspberry Pi
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2016-08-17-el-mundo-de-ayer.html" title="2016-08-17 El mundo de ayer - Stefan Zweig" class="md-nav__link">
      2016-08-17 El mundo de ayer - Stefan Zweig
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2016-08-02-stm32-vl-discovery.html" title="2016-08-02 Entorno desarrollo STM32 VL Discovery sobre Linux" class="md-nav__link">
      2016-08-02 Entorno desarrollo STM32 VL Discovery sobre Linux
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2016-07-21-PIGRRL-2.html" title="2016-07-21 Configuración PiGRRL-2" class="md-nav__link">
      2016-07-21 Configuración PiGRRL-2
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2016-07-10-wild.html" title="2016-07-10 Wild - Cheryl Strayed" class="md-nav__link">
      2016-07-10 Wild - Cheryl Strayed
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2016-07-02-virus-android.html" title="2016-07-02 Alertas por supuestos virus en Android" class="md-nav__link">
      2016-07-02 Alertas por supuestos virus en Android
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2016-04-10-un-antropologo-en-marte.html" title="2016-04-10 Un antropólogo en Marte - Oliver Sacks" class="md-nav__link">
      2016-04-10 Un antropólogo en Marte - Oliver Sacks
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2016-02-25-los-innovadores.html" title="2016-02-25 Los Innovadores - Walter Isaacson" class="md-nav__link">
      2016-02-25 Los Innovadores - Walter Isaacson
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2015-03-14-raspi2-kodi-tvheadend.html" title="2015-03-14 Raspberry Pi 2 + KODI + Tvheadend" class="md-nav__link">
      2015-03-14 Raspberry Pi 2 + KODI + Tvheadend
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2015-01-09-moviles.html" title="2015-01-09 Móviles recomendables" class="md-nav__link">
      2015-01-09 Móviles recomendables
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2015-01-08-jekyll.html" title="2015-01-08 Jekyll+GitHub Pages" class="md-nav__link">
      2015-01-08 Jekyll+GitHub Pages
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2014-12-26-dokuwiki-raspi.html" title="2014-12-26 Dokuwiki en Raspberry Pi manteniendo los ficheros en NAS" class="md-nav__link">
      2014-12-26 Dokuwiki en Raspberry Pi manteniendo los ficheros en NAS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2014-12-20-micro-placas.html" title="2014-12-20 Micro placas" class="md-nav__link">
      2014-12-20 Micro placas
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2014-12-15-presentacion.html" title="2014-12-15 Presentación" class="md-nav__link">
      2014-12-15 Presentación
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-25" type="checkbox" id="nav-25">
    
    <label class="md-nav__link" for="nav-25">
      Cursos
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-25">
        Cursos
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cursos/phonegap.html" title="Phonegap" class="md-nav__link">
      Phonegap
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-26" type="checkbox" id="nav-26" checked>
    
    <label class="md-nav__link" for="nav-26">
      Desarrollo
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-26">
        Desarrollo
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="android.html" title="Android" class="md-nav__link">
      Android
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="db.html" title="Bases de Datos" class="md-nav__link">
      Bases de Datos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="diseno.html" title="Diseño" class="md-nav__link">
      Diseño
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dokuwiki.html" title="Dokuwiki" class="md-nav__link">
      Dokuwiki
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="eclipse.html" title="Eclipse" class="md-nav__link">
      Eclipse
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="projects.html" title="Gestión de Proyectos" class="md-nav__link">
      Gestión de Proyectos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="git.html" title="Git" class="md-nav__link">
      Git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="html.html" title="HTML+CSS" class="md-nav__link">
      HTML+CSS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="java.html" title="Java" class="md-nav__link">
      Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="javaee.html" title="JavaEE" class="md-nav__link">
      JavaEE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="javascript.html" title="JavaScript" class="md-nav__link">
      JavaScript
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="joomla.html" title="Joomla" class="md-nav__link">
      Joomla
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="php.html" title="PHP" class="md-nav__link">
      PHP
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Python/Django
      </label>
    
    <a href="python.html" title="Python/Django" class="md-nav__link md-nav__link--active">
      Python/Django
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#enlaces" title="Enlaces" class="md-nav__link">
    Enlaces
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cheatsheet" title="Cheatsheet" class="md-nav__link">
    Cheatsheet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aprendizaje" title="Aprendizaje" class="md-nav__link">
    Aprendizaje
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modulos-interesantes" title="Módulos interesantes" class="md-nav__link">
    Módulos interesantes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entorno-django" title="Entorno Django" class="md-nav__link">
    Entorno Django
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entorno-django-en-synology-nas" title="Entorno Django en Synology NAS" class="md-nav__link">
    Entorno Django en Synology NAS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creacion-de-proyecto-django" title="Creación de proyecto Django" class="md-nav__link">
    Creación de proyecto Django
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creacion-de-aplicacion-django" title="Creación de aplicación Django" class="md-nav__link">
    Creación de aplicación Django
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pienv" title="Pienv" class="md-nav__link">
    Pienv
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enlaces_1" title="Enlaces" class="md-nav__link">
    Enlaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalacion" title="Instalación" class="md-nav__link">
    Instalación
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacion-de-entorno-para-python3" title="Creación de entorno para Python3" class="md-nav__link">
    Creación de entorno para Python3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacion-de-entorno-con-version-especifica-de-python-y-de-paquetes" title="Creación de entorno con versión específica de Python y de paquetes" class="md-nav__link">
    Creación de entorno con versión específica de Python y de paquetes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejemplo-de-creacion-de-entorno-django-desde-cero" title="Ejemplo de creación de entorno Django desde cero" class="md-nav__link">
    Ejemplo de creación de entorno Django desde cero
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anadir-campo-a-modelo-intermedio-manytomany" title="Añadir campo a modelo intermedio ManyToMany" class="md-nav__link">
    Añadir campo a modelo intermedio ManyToMany
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#personalizacion-del-modelo-user" title="Personalización del modelo User" class="md-nav__link">
    Personalización del modelo User
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gestion-de-migraciones" title="Gestión de migraciones" class="md-nav__link">
    Gestión de migraciones
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formateo-de-cadenas" title="Formateo de cadenas" class="md-nav__link">
    Formateo de cadenas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#directorio-instalacion-django" title="Directorio instalación Django" class="md-nav__link">
    Directorio instalación Django
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tutorial-django" title="Tutorial Django" class="md-nav__link">
    Tutorial Django
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tutorial-django-de-mozilla-developer-network" title="Tutorial Django de Mozilla Developer Network" class="md-nav__link">
    Tutorial Django de Mozilla Developer Network
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#referencia-django" title="Referencia Django" class="md-nav__link">
    Referencia Django
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#temas-interesantes" title="Temas interesantes" class="md-nav__link">
    Temas interesantes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uso-de-class-views" title="Uso de Class Views" class="md-nav__link">
    Uso de Class Views
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basicas" title="Básicas" class="md-nav__link">
    Básicas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#templateview" title="TemplateView" class="md-nav__link">
    TemplateView
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redirectview" title="RedirectView" class="md-nav__link">
    RedirectView
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#genericas-para-visualizacion-de-modelos" title="Genéricas para visualización de modelos" class="md-nav__link">
    Genéricas para visualización de modelos
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#detailview" title="DetailView" class="md-nav__link">
    DetailView
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#listview" title="ListView" class="md-nav__link">
    ListView
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#genericas-para-edicion-de-modelos" title="Genéricas para edición de modelos" class="md-nav__link">
    Genéricas para edición de modelos
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#formview" title="FormView" class="md-nav__link">
    FormView
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#createview" title="CreateView" class="md-nav__link">
    CreateView
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updateview" title="UpdateView" class="md-nav__link">
    UpdateView
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleteview" title="DeleteView" class="md-nav__link">
    DeleteView
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#empaquetadas" title="Empaquetadas" class="md-nav__link">
    Empaquetadas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#filterview" title="FilterView" class="md-nav__link">
    FilterView
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#idioms" title="Idioms" class="md-nav__link">
    Idioms
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#template-filters" title="Template filters" class="md-nav__link">
    Template filters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#snippets-python" title="Snippets Python" class="md-nav__link">
    Snippets Python
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#snippets-django" title="Snippets Django" class="md-nav__link">
    Snippets Django
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#filtro-en-listview" title="Filtro en ListView" class="md-nav__link">
    Filtro en ListView
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instrospeccion" title="Instrospección" class="md-nav__link">
    Instrospección
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lista-de-atributos" title="Lista de atributos" class="md-nav__link">
    Lista de atributos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lista-de-atributos-y-metodos" title="Lista de atributos y métodos" class="md-nav__link">
    Lista de atributos y métodos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logging" title="Logging" class="md-nav__link">
    Logging
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log-a-fichero" title="Log a fichero" class="md-nav__link">
    Log a fichero
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-a-consola" title="Log a consola" class="md-nav__link">
    Log a consola
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#traza-de-queries-a-consola" title="Traza de queries a consola" class="md-nav__link">
    Traza de queries a consola
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pip" title="pip" class="md-nav__link">
    pip
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instalacion-version-especifica-de-un-paquete" title="Instalación versión específica de un paquete" class="md-nav__link">
    Instalación versión específica de un paquete
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usando-webpack-para-construir-el-frontend" title="Usando Webpack para construir el frontend" class="md-nav__link">
    Usando Webpack para construir el frontend
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enlaces_2" title="Enlaces:" class="md-nav__link">
    Enlaces:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#procedimiento" title="Procedimiento" class="md-nav__link">
    Procedimiento
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instalacion-de-jupyterhub" title="Instalación de JupyterHub" class="md-nav__link">
    Instalación de JupyterHub
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enlaces_3" title="Enlaces" class="md-nav__link">
    Enlaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#niveles-de-instalacion" title="Niveles de instalación" class="md-nav__link">
    Niveles de instalación
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalacion-the-littlest-jupyterhub" title="Instalación The Littlest JupyterHub" class="md-nav__link">
    Instalación The Littlest JupyterHub
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuracion-de-fichero-de-log" title="Configuración de fichero de log" class="md-nav__link">
    Configuración de fichero de log
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anadiendo-modulos-python-al-sistema" title="Añadiendo módulos Python al sistema" class="md-nav__link">
    Añadiendo módulos Python al sistema
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visualizacion-de-jupyter-notebooks" title="Visualización de Jupyter Notebooks" class="md-nav__link">
    Visualización de Jupyter Notebooks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#impresion-con-formato" title="Impresión con formato" class="md-nav__link">
    Impresión con formato
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#queries-complejas" title="Queries complejas" class="md-nav__link">
    Queries complejas
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="ror.html" title="Ruby on Rails" class="md-nav__link">
      Ruby on Rails
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="spree.html" title="Spree" class="md-nav__link">
      Spree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="subl.html" title="Sublime Text 2" class="md-nav__link">
      Sublime Text 2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="svn.html" title="SVN" class="md-nav__link">
      SVN
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="vagrant.html" title="Vagrant" class="md-nav__link">
      Vagrant
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="yii.html" title="Yii" class="md-nav__link">
      Yii
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-27" type="checkbox" id="nav-27">
    
    <label class="md-nav__link" for="nav-27">
      Electrónica
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-27">
        Electrónica
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../electronica/arduino.html" title="Arduino" class="md-nav__link">
      Arduino
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../electronica/3d_printing.html" title="3D Printing" class="md-nav__link">
      3D Printing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../electronica/bus_pirate.html" title="Bus Pirate" class="md-nav__link">
      Bus Pirate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../electronica/m328_transistor_tester.html" title="M328 Transistor Tester" class="md-nav__link">
      M328 Transistor Tester
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../electronica/stm32.html" title="STM32" class="md-nav__link">
      STM32
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-28" type="checkbox" id="nav-28">
    
    <label class="md-nav__link" for="nav-28">
      Proyectos
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-28">
        Proyectos
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../proyectos/headsetcomm.html" title="Headset Commander" class="md-nav__link">
      Headset Commander
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../proyectos/dicom.html" title="Impresión 3D de ecografías" class="md-nav__link">
      Impresión 3D de ecografías
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../proyectos/minecraft.html" title="Minecraft" class="md-nav__link">
      Minecraft
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-29" type="checkbox" id="nav-29">
    
    <label class="md-nav__link" for="nav-29">
      Sistemas
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-29">
        Sistemas
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/android_system.html" title="Android" class="md-nav__link">
      Android
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/soft_imprescindible.html" title="Aplicaciones interesantes" class="md-nav__link">
      Aplicaciones interesantes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/appletv.html" title="AppleTV" class="md-nav__link">
      AppleTV
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/docker.html" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/email.html" title="e-mail" class="md-nav__link">
      e-mail
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/emulacion.html" title="Emulación" class="md-nav__link">
      Emulación
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/impresoras.html" title="Impresoras" class="md-nav__link">
      Impresoras
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/iot.html" title="IOT" class="md-nav__link">
      IOT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/kodi.html" title="Kodi/OpenELEC" class="md-nav__link">
      Kodi/OpenELEC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/macosx.html" title="Mac OS X" class="md-nav__link">
      Mac OS X
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/mandrake.html" title="Mandrake" class="md-nav__link">
      Mandrake
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/mysql.html" title="MySQL" class="md-nav__link">
      MySQL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/nas.html" title="NAS" class="md-nav__link">
      NAS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/odroid.html" title="ODROID" class="md-nav__link">
      ODROID
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/office.html" title="Office" class="md-nav__link">
      Office
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/raspi.html" title="Raspberry Pi" class="md-nav__link">
      Raspberry Pi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/redes.html" title="Redes" class="md-nav__link">
      Redes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/router_xiaomi.html" title="Router Xiaomi MiWiFi 3G" class="md-nav__link">
      Router Xiaomi MiWiFi 3G
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/ubuntu_phone.html" title="Ubuntu Phone" class="md-nav__link">
      Ubuntu Phone
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/ubuntu.html" title="Ubuntu" class="md-nav__link">
      Ubuntu
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/unix.html" title="UNIX" class="md-nav__link">
      UNIX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/trucos_windows.html" title="Windows" class="md-nav__link">
      Windows
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/zx-spectrum.html" title="ZX Spectrum" class="md-nav__link">
      ZX Spectrum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/zx-uno.html" title="ZX-Uno" class="md-nav__link">
      ZX-Uno
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-30" type="checkbox" id="nav-30">
    
    <label class="md-nav__link" for="nav-30">
      Varios
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-30">
        Varios
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../varios/bici.html" title="Bicicleta" class="md-nav__link">
      Bicicleta
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varios/links.html" title="Enlaces" class="md-nav__link">
      Enlaces
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varios/hogar.html" title="Hogar" class="md-nav__link">
      Hogar
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varios/english.html" title="Inglés" class="md-nav__link">
      Inglés
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varios/corsa_d.html" title="Opel Corsa D" class="md-nav__link">
      Opel Corsa D
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varios/viajes.html" title="Viajes" class="md-nav__link">
      Viajes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#enlaces" title="Enlaces" class="md-nav__link">
    Enlaces
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cheatsheet" title="Cheatsheet" class="md-nav__link">
    Cheatsheet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aprendizaje" title="Aprendizaje" class="md-nav__link">
    Aprendizaje
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modulos-interesantes" title="Módulos interesantes" class="md-nav__link">
    Módulos interesantes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entorno-django" title="Entorno Django" class="md-nav__link">
    Entorno Django
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entorno-django-en-synology-nas" title="Entorno Django en Synology NAS" class="md-nav__link">
    Entorno Django en Synology NAS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creacion-de-proyecto-django" title="Creación de proyecto Django" class="md-nav__link">
    Creación de proyecto Django
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creacion-de-aplicacion-django" title="Creación de aplicación Django" class="md-nav__link">
    Creación de aplicación Django
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pienv" title="Pienv" class="md-nav__link">
    Pienv
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enlaces_1" title="Enlaces" class="md-nav__link">
    Enlaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalacion" title="Instalación" class="md-nav__link">
    Instalación
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacion-de-entorno-para-python3" title="Creación de entorno para Python3" class="md-nav__link">
    Creación de entorno para Python3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacion-de-entorno-con-version-especifica-de-python-y-de-paquetes" title="Creación de entorno con versión específica de Python y de paquetes" class="md-nav__link">
    Creación de entorno con versión específica de Python y de paquetes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejemplo-de-creacion-de-entorno-django-desde-cero" title="Ejemplo de creación de entorno Django desde cero" class="md-nav__link">
    Ejemplo de creación de entorno Django desde cero
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anadir-campo-a-modelo-intermedio-manytomany" title="Añadir campo a modelo intermedio ManyToMany" class="md-nav__link">
    Añadir campo a modelo intermedio ManyToMany
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#personalizacion-del-modelo-user" title="Personalización del modelo User" class="md-nav__link">
    Personalización del modelo User
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gestion-de-migraciones" title="Gestión de migraciones" class="md-nav__link">
    Gestión de migraciones
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formateo-de-cadenas" title="Formateo de cadenas" class="md-nav__link">
    Formateo de cadenas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#directorio-instalacion-django" title="Directorio instalación Django" class="md-nav__link">
    Directorio instalación Django
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tutorial-django" title="Tutorial Django" class="md-nav__link">
    Tutorial Django
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tutorial-django-de-mozilla-developer-network" title="Tutorial Django de Mozilla Developer Network" class="md-nav__link">
    Tutorial Django de Mozilla Developer Network
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#referencia-django" title="Referencia Django" class="md-nav__link">
    Referencia Django
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#temas-interesantes" title="Temas interesantes" class="md-nav__link">
    Temas interesantes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uso-de-class-views" title="Uso de Class Views" class="md-nav__link">
    Uso de Class Views
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basicas" title="Básicas" class="md-nav__link">
    Básicas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#templateview" title="TemplateView" class="md-nav__link">
    TemplateView
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redirectview" title="RedirectView" class="md-nav__link">
    RedirectView
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#genericas-para-visualizacion-de-modelos" title="Genéricas para visualización de modelos" class="md-nav__link">
    Genéricas para visualización de modelos
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#detailview" title="DetailView" class="md-nav__link">
    DetailView
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#listview" title="ListView" class="md-nav__link">
    ListView
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#genericas-para-edicion-de-modelos" title="Genéricas para edición de modelos" class="md-nav__link">
    Genéricas para edición de modelos
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#formview" title="FormView" class="md-nav__link">
    FormView
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#createview" title="CreateView" class="md-nav__link">
    CreateView
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updateview" title="UpdateView" class="md-nav__link">
    UpdateView
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleteview" title="DeleteView" class="md-nav__link">
    DeleteView
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#empaquetadas" title="Empaquetadas" class="md-nav__link">
    Empaquetadas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#filterview" title="FilterView" class="md-nav__link">
    FilterView
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#idioms" title="Idioms" class="md-nav__link">
    Idioms
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#template-filters" title="Template filters" class="md-nav__link">
    Template filters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#snippets-python" title="Snippets Python" class="md-nav__link">
    Snippets Python
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#snippets-django" title="Snippets Django" class="md-nav__link">
    Snippets Django
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#filtro-en-listview" title="Filtro en ListView" class="md-nav__link">
    Filtro en ListView
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instrospeccion" title="Instrospección" class="md-nav__link">
    Instrospección
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lista-de-atributos" title="Lista de atributos" class="md-nav__link">
    Lista de atributos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lista-de-atributos-y-metodos" title="Lista de atributos y métodos" class="md-nav__link">
    Lista de atributos y métodos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logging" title="Logging" class="md-nav__link">
    Logging
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log-a-fichero" title="Log a fichero" class="md-nav__link">
    Log a fichero
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-a-consola" title="Log a consola" class="md-nav__link">
    Log a consola
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#traza-de-queries-a-consola" title="Traza de queries a consola" class="md-nav__link">
    Traza de queries a consola
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pip" title="pip" class="md-nav__link">
    pip
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instalacion-version-especifica-de-un-paquete" title="Instalación versión específica de un paquete" class="md-nav__link">
    Instalación versión específica de un paquete
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usando-webpack-para-construir-el-frontend" title="Usando Webpack para construir el frontend" class="md-nav__link">
    Usando Webpack para construir el frontend
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enlaces_2" title="Enlaces:" class="md-nav__link">
    Enlaces:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#procedimiento" title="Procedimiento" class="md-nav__link">
    Procedimiento
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instalacion-de-jupyterhub" title="Instalación de JupyterHub" class="md-nav__link">
    Instalación de JupyterHub
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enlaces_3" title="Enlaces" class="md-nav__link">
    Enlaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#niveles-de-instalacion" title="Niveles de instalación" class="md-nav__link">
    Niveles de instalación
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalacion-the-littlest-jupyterhub" title="Instalación The Littlest JupyterHub" class="md-nav__link">
    Instalación The Littlest JupyterHub
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuracion-de-fichero-de-log" title="Configuración de fichero de log" class="md-nav__link">
    Configuración de fichero de log
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anadiendo-modulos-python-al-sistema" title="Añadiendo módulos Python al sistema" class="md-nav__link">
    Añadiendo módulos Python al sistema
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visualizacion-de-jupyter-notebooks" title="Visualización de Jupyter Notebooks" class="md-nav__link">
    Visualización de Jupyter Notebooks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#impresion-con-formato" title="Impresión con formato" class="md-nav__link">
    Impresión con formato
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#queries-complejas" title="Queries complejas" class="md-nav__link">
    Queries complejas
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardofilo/eduardofilo.mkdocs/edit/master/docs/desarrollo/python.md" title="Editar esta página" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="pythondjango">Python/Django<a class="headerlink" href="#pythondjango" title="Permanent link">&para;</a></h1>
<h2 id="enlaces">Enlaces<a class="headerlink" href="#enlaces" title="Permanent link">&para;</a></h2>
<h3 id="cheatsheet">Cheatsheet<a class="headerlink" href="#cheatsheet" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://ccbv.co.uk/projects/Django/1.11/">Classy Class-Based Views</a>: Detailed descriptions, with full methods and attributes, for each of Django's class-based generic views.</li>
</ul>
<h3 id="aprendizaje">Aprendizaje<a class="headerlink" href="#aprendizaje" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="http://docs.python-guide.org/en/latest/intro/learning/">The Hitchhiker's Guide to Python</a></li>
<li><a href="https://simpleisbetterthancomplex.com/tutorial/2016/07/26/how-to-reset-migrations.html">How to Reset Migrations</a></li>
<li><a href="https://books.agiliq.com/projects/django-admin-cookbook/en/latest/index.html">Django Admin Cookbook</a></li>
<li><a href="https://stackoverflow.com/questions/2224410/django-data-migration-when-changing-a-field-to-manytomany?rq=1">Django data migration when changing a field to ManyToMany</a>: Cuando queremos cambiar de un modelo ForeignKey a ManyToMany.</li>
<li><a href="https://stackoverflow.com/questions/26348260/alter-model-to-add-through-relationship-to-order-a-manytomany-field-django-1">Alter model to add “through” relationship to order a ManytoMany field</a>: Cuando queremos cambiar la tabla intermedia automática a una gestionada con un modelo propio.</li>
<li><a href="https://medium.com/@adandan01/django-inline-formsets-example-mybook-420cc4b6225d">Django Inline formsets example</a></li>
<li><a href="https://www.algotech.solutions/blog/python/django-migrations-and-how-to-manage-conflicts/">Django Migrations and How to Manage Conflicts</a></li>
</ul>
<h3 id="modulos-interesantes">Módulos interesantes<a class="headerlink" href="#modulos-interesantes" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://github.com/aljosa/django-tinymce">django-tinymce</a></li>
<li><a href="https://github.com/yourlabs/django-autocomplete-light">django-autocomplete-light</a></li>
<li><a href="http://awesome-django.com/">wesome Django</a>: A curated list of awesome Django apps, projects and resources.</li>
</ul>
<h2 id="entorno-django">Entorno Django<a class="headerlink" href="#entorno-django" title="Permanent link">&para;</a></h2>
<p>Para tener un entorno aislado (sin depender con los paquetes y versiones del sistema), instalar primero <code>pip</code> de Python3. Se puede hacer instalando el paquete <code>python3-pip</code> de Ubuntu, pero dado que interesa actualizar a la última versión, es mejor instalarlo de forma independiente bajando el script <code>get-pip.py</code> de <a href="https://pip.pypa.io/en/stable/installing/">aquí</a> ejecutándolo así:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ sudo python3 get-pip.py
</pre></div>
</td></tr></table>

<p>Después ejecutar en terminal:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ sudo pip3 install virtualenv
$ virtualenv --python<span class="o">=</span><span class="sb">`</span>which python3<span class="sb">`</span> djangodev
$ <span class="nb">source</span> djangodev/bin/activate
<span class="o">(</span>djangodev<span class="o">)</span> $ pip install Django
</pre></div>
</td></tr></table>

<p>Cada vez que se quiera adaptar el entorno de la sesión del terminal a este entorno aislado, hay que ejecutar el penúltimo comando anterior (<code>source</code>).</p>
<h2 id="entorno-django-en-synology-nas">Entorno Django en Synology NAS<a class="headerlink" href="#entorno-django-en-synology-nas" title="Permanent link">&para;</a></h2>
<ol>
<li>Instalo módulo Python3 desde el Centro de Paquetes.</li>
<li>
<p>Instalo pip en Python3:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ wget -nd https://bootstrap.pypa.io/get-pip.py
$ python get-pip.py
$ <span class="nb">cd</span> /usr/local/bin
$ sudo ln -s /volume1/@appstore/py3k/usr/local/bin/pip3
</pre></div>
</td></tr></table>

</li>
<li>
<p>Instalo virtualenv:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ sudo pip3 install virtualenv
$ python3 /volume1/@appstore/py3k/usr/local/lib/python3.5/site-packages/virtualenv.py --python<span class="o">=</span><span class="sb">`</span>which python3<span class="sb">`</span> djangodev
</pre></div>
</td></tr></table>

</li>
<li>
<p>Arranco el entorno virtual e instalo Django:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ <span class="nb">source</span> djangodev/bin/activate
<span class="o">(</span>djangodev<span class="o">)</span> $ pip install Django
</pre></div>
</td></tr></table>

</li>
</ol>
<h2 id="creacion-de-proyecto-django">Creación de proyecto Django<a class="headerlink" href="#creacion-de-proyecto-django" title="Permanent link">&para;</a></h2>
<p>Desde el directorio donde queremos que se cree ejecutamos:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>(djangodev) $ django-admin startproject project01
</pre></div>
</td></tr></table>

<h2 id="creacion-de-aplicacion-django">Creación de aplicación Django<a class="headerlink" href="#creacion-de-aplicacion-django" title="Permanent link">&para;</a></h2>
<p>Desde el directorio del proyecto (donde se encuentre el fichero <code>manage.py</code>) ejecutamos:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>(djangodev) $ python manage.py startapp app01
</pre></div>
</td></tr></table>

<p>Para incorporar los modelos de la nueva aplicación al mantenimiento automático que proporciona el módulo <code>admin</code> de Django, hay que incorporar al fichero <code>project01/settings.py</code> lo siguiente en la sección <code>INSTALLED_APPS</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>INSTALLED_APPS = [
    &#39;app01.apps.App01Config&#39;,
    &#39;django.contrib.admin&#39;,
    &#39;django.contrib.auth&#39;,
    &#39;django.contrib.contenttypes&#39;,
    &#39;django.contrib.sessions&#39;,
    &#39;django.contrib.messages&#39;,
    &#39;django.contrib.staticfiles&#39;,
]
</pre></div>
</td></tr></table>

<p>Luego ejecutamos el siguiente comando para generar las migraciones a partir de los modelos definidos en la app:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>(djangodev) $ python manage.py makemigrations app01
</pre></div>
</td></tr></table>

<p>Finalmente ejecutamos las migraciones propiamente dichas:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>(djangodev) $ python manage.py migrate
</pre></div>
</td></tr></table>

<p>Para poder utilizar el módulo <code>admin</code> de Django, hay que crear al menos un usuario:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>(djangodev) $ python manage.py createsuperuser
</pre></div>
</td></tr></table>

<h2 id="pienv">Pienv<a class="headerlink" href="#pienv" title="Permanent link">&para;</a></h2>
<h3 id="enlaces_1">Enlaces<a class="headerlink" href="#enlaces_1" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://robots.thoughtbot.com/how-to-manage-your-python-projects-with-pipenv">How to manage your Python projects with Pipenv</a></li>
</ul>
<h3 id="instalacion">Instalación<a class="headerlink" href="#instalacion" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ sudo -H pip install pipenv
</pre></div>
</td></tr></table>

<h3 id="creacion-de-entorno-para-python3">Creación de entorno para Python3<a class="headerlink" href="#creacion-de-entorno-para-python3" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ pipenv install --three
$ pipenv shell
</pre></div>
</td></tr></table>

<h3 id="creacion-de-entorno-con-version-especifica-de-python-y-de-paquetes">Creación de entorno con versión específica de Python y de paquetes<a class="headerlink" href="#creacion-de-entorno-con-version-especifica-de-python-y-de-paquetes" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Instalar algunos paquetes necesarios:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ sudo apt-get install build-essential checkinstall
$ sudo apt-get install libreadline-gplv2-dev libncursesw5-dev libssl-dev libsqlite3-dev tk-dev libgdbm-dev libc6-dev libbz2-dev
</pre></div>
</td></tr></table>

</li>
<li>
<p>Bajamos la versión <code>source</code> de <a href="https://www.python.org/downloads/source/">aquí</a>.</p>
</li>
<li>
<p>Descomprimimos:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ tar -xzvf Python-3.6.6.tgz
</pre></div>
</td></tr></table>

</li>
<li>
<p>Renombramos el directorio de las fuentes para no confundirlo con el de los binarios:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ mv Python-3.6.5 Python-3.6.5_src
</pre></div>
</td></tr></table>

</li>
<li>
<p>Creamos el directorio para los binarios:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ mkdir Python-3.6.5
</pre></div>
</td></tr></table>

</li>
<li>
<p>Entramos en el directorio de las fuentes y compilamos:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ <span class="nb">cd</span> /home/usuario/Python-3.6.5_src
$ ./configure --disable-ipv6 --prefix<span class="o">=</span>/home/usuario/Python-3.6.5
$ make
$ make <span class="nb">test</span>
$ make install
</pre></div>
</td></tr></table>

</li>
<li>
<p>Creamos el entorno:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ <span class="nb">cd</span> directorio_proyecto
$ pipenv install --python /home/usuario/Python-3.6.5/bin/python3
$ pipenv install <span class="nv">Django</span><span class="o">==</span><span class="m">1</span>.11.12
$ pipenv install _resto_de_paquetes_
$ pipenv shell
</pre></div>
</td></tr></table>

</li>
</ol>
<h2 id="ejemplo-de-creacion-de-entorno-django-desde-cero">Ejemplo de creación de entorno Django desde cero<a class="headerlink" href="#ejemplo-de-creacion-de-entorno-django-desde-cero" title="Permanent link">&para;</a></h2>
<p>Creamos repositorio git (por ejemplo <code>remote_james</code>) y lo sincronizamos (por ejemplo con <code>/home/edumoreno/git/remote_james</code>).</p>
<p>Ejecutamos (en el ejemplo se usa una versión de Python específica compilada anteriormente en la máquina):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ <span class="nb">cd</span> ~/git/remote_james
$ pipenv install --python /home/edumoreno/Python-3.6.5/bin/python3
$ pipenv shell
$ pipenv install django
$ django-admin startproject remote_james .
$ python manage.py startapp james
</pre></div>
</td></tr></table>

<p>Incorporamos nueva app en fichero <code>settings.py</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>INSTALLED_APPS = [
    &#39;james.apps.JamesConfig&#39;,
    &#39;django.contrib.admin&#39;,
    &#39;django.contrib.auth&#39;,
    &#39;django.contrib.contenttypes&#39;,
    &#39;django.contrib.sessions&#39;,
    &#39;django.contrib.messages&#39;,
    &#39;django.contrib.staticfiles&#39;,
]
</pre></div>
</td></tr></table>

<p>Ejecutamos:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ python manage.py makemigrations
$ python manage.py migrate
$ python manage.py createsuperuser
$ python manage.py runserver <span class="m">0</span>.0.0.0:8000
</pre></div>
</td></tr></table>

<h2 id="anadir-campo-a-modelo-intermedio-manytomany">Añadir campo a modelo intermedio ManyToMany<a class="headerlink" href="#anadir-campo-a-modelo-intermedio-manytomany" title="Permanent link">&para;</a></h2>
<ol>
<li>Partimos por ejemplo de:
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1"># Taller</span>
<span class="k">class</span> <span class="nc">Taller</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">nombre</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">tema</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">descripcion</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;descripción&#39;</span><span class="p">),</span> <span class="n">blank</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">unidades</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s1">&#39;Unidad&#39;</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;talleres&quot;</span><span class="p">)</span>
        <span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;nombre&quot;</span><span class="p">]</span>
</pre></div>
</td></tr></table></li>
<li>Primero averiguamos el nombre de la tabla intermedia que se creó automáticamente cuando se añadió el campo <code>unidades</code> al modelo <code>Taller</code>. En este caso era: <code>lms_taller_unidades</code>. Hacemos backup:
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ mysqldump --opt -h localhost --user<span class="o">=</span>usuario --password<span class="o">=</span>contraseña database lms_taller_unidades &gt; backup_lms_taller_unidades.sql
</pre></div>
</td></tr></table></li>
<li>Borramos o mejor comentamos el campo <code>unidades</code> de <code>Taller</code> y generamos migraciones y las aplicamos, lo que borrará la tabla.</li>
<li>Creamos el objeto intermedio:
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1"># TallerUnidades</span>
<span class="k">class</span> <span class="nc">TallerUnidades</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">taller</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;Taller&#39;</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">)</span>
    <span class="n">unidad</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;Unidad&#39;</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">)</span>
    <span class="n">position</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">PositiveSmallIntegerField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">db_table</span> <span class="o">=</span> <span class="s1">&#39;lms_taller_unidades&#39;</span>
        <span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;position&quot;</span><span class="p">]</span>
        <span class="n">verbose_name</span> <span class="o">=</span> <span class="s2">&quot;unidad&quot;</span>
        <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="s2">&quot;unidades&quot;</span>
        <span class="n">unique_together</span> <span class="o">=</span> <span class="p">((</span><span class="s2">&quot;taller&quot;</span><span class="p">,</span> <span class="s2">&quot;unidad&quot;</span><span class="p">),)</span>
</pre></div>
</td></tr></table></li>
<li>Reestablecemos la relación ManyToMany a través del objeto intermedio:
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1"># Taller</span>
<span class="k">class</span> <span class="nc">Taller</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">nombre</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">tema</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">descripcion</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s1">&#39;descripción&#39;</span><span class="p">),</span> <span class="n">blank</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">unidades</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s1">&#39;Unidad&#39;</span><span class="p">,</span> <span class="n">through</span><span class="o">=</span><span class="s1">&#39;TallerUnidades&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nombre</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;talleres&quot;</span><span class="p">)</span>
        <span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;nombre&quot;</span><span class="p">]</span>
</pre></div>
</td></tr></table></li>
<li>Creamos migraciones y las aplicamos.</li>
<li>Cargamos el backup de la tabla:
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ mysql -h localhost --user<span class="o">=</span>usuario --password<span class="o">=</span>contraseña database &lt; backup_lms_taller_unidades.sql
</pre></div>
</td></tr></table></li>
</ol>
<p>Si hemos utilizado el campo ManyToMany en el objeto Admin del modelo principal veremos errores como los siguientes:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ERRORS:
&lt;class &#39;lms.admin.TallerAdmin&#39;&gt;: (admin.E013) The value of &#39;fields&#39; cannot include the ManyToManyField &#39;unidades&#39;, because that field manually specifies a relationship model.
</pre></div>
</td></tr></table>

<p>No habrá más remedio que dejar de mostrar el campo directamente con los widgets ManyToMany y pasar a utilizar Inlines.</p>
<h2 id="personalizacion-del-modelo-user">Personalización del modelo User<a class="headerlink" href="#personalizacion-del-modelo-user" title="Permanent link">&para;</a></h2>
<p>Es recomendable cuando se empieza un proyecto, sustituir la gestión del modelo User por uno propio, ya que si se quiere hacer más adelante con la aplicación ya en marcha, es muy complicada la migración entre tablas. Un par de buenos artículos sobre el tema son:</p>
<ul>
<li><a href="https://simpleisbetterthancomplex.com/tutorial/2016/07/22/how-to-extend-django-user-model.html#abstractuser">Extending User Model Using a Custom Model Extending AbstractUser</a></li>
<li><a href="https://simpleisbetterthancomplex.com/tutorial/2018/01/18/how-to-implement-multiple-user-types-with-django.html">How to Implement Multiple User Types with Django</a></li>
</ul>
<p>Creamos el modelo así:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">django.contrib.auth.models</span> <span class="kn">import</span> <span class="n">AbstractUser</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">AbstractUser</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</td></tr></table>

<p>Y lo activamos definiendo la siguiente propiedad en el fichero <code>settings.py</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>AUTH_USER_MODEL = &#39;app01.User&#39;
</pre></div>
</td></tr></table>

<p>Si no queremos perder los formularios especiales de la aplicación <code>admin</code> para el modelo original, además hay que personalizar la clase <code>UserAdmin</code> de la siguiente forma:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">django.contrib.auth.admin</span> <span class="kn">import</span> <span class="n">UserAdmin</span>

<span class="k">class</span> <span class="nc">MyUserAdmin</span><span class="p">(</span><span class="n">UserAdmin</span><span class="p">):</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">User</span>

<span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">MyUserAdmin</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<h2 id="gestion-de-migraciones">Gestión de migraciones<a class="headerlink" href="#gestion-de-migraciones" title="Permanent link">&para;</a></h2>
<p>Una vez generadas las migraciones, si queremos obtener el código SQL a que equivalen hay que ejecutar el comando (en el ejemploo solicitamos el código correspondiente a la migración <code>0008</code>):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>(djangodev) $ python manage.py sqlmigrate app01 0008
</pre></div>
</td></tr></table>

<p>Para situarnos en un punto concreto de la serie de migraciones (deshaciendo por tanto las posteriores cuyos ficheros se podrán borrar):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>(djangodev) $ python manage.py migrate app01 0010
</pre></div>
</td></tr></table>

<p>Para mostrar los nombres de todas las migraciones (si no ponemos el nombre al final se muestran las de todo el sitio):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>(djangodev) $ python manage.py showmigrations app01
</pre></div>
</td></tr></table>

<p>Para deshacer todas las migraciones:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>(djangodev) $ python manage.py migrate app01 zero
</pre></div>
</td></tr></table>

<p>Para crear una migración vacía que podremos utilizar para hacer transferencias de datos (ver ejemplo <a href="https://stackoverflow.com/questions/2224410/django-data-migration-when-changing-a-field-to-manytomany?rq=1">aquí</a>):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>(djangodev) $ python manage.py makemigrations app01 --empty
</pre></div>
</td></tr></table>

<p>Para saber cómo gestionar las migraciones en diferentes ramas del desarrollo y evitar/solucionar conflictos, leer <a href="https://www.algotech.solutions/blog/python/django-migrations-and-how-to-manage-conflicts/">este artículo</a>.</p>
<h2 id="formateo-de-cadenas">Formateo de cadenas<a class="headerlink" href="#formateo-de-cadenas" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>Con tuplas (no se puede cambiar el orden de los parámetros):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> parte de </span><span class="si">%s</span><span class="s2"> la cadena&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">var1</span><span class="p">,</span> <span class="n">var2</span><span class="p">)</span>
</pre></div>
</td></tr></table>

</li>
<li>
<p>Con diccionario (se puede cambiar el orden de los parámetros):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="s2">&quot;</span><span class="si">%(par1)s</span><span class="s2"> parte de </span><span class="si">%(par2)s</span><span class="s2"> la cadena&quot;</span> <span class="o">%</span> <span class="p">{</span><span class="s1">&#39;par1&#39;</span><span class="p">:</span> <span class="n">var1</span><span class="p">,</span> <span class="s1">&#39;par2&#39;</span><span class="p">:</span> <span class="n">var2</span><span class="p">}</span>
</pre></div>
</td></tr></table>

</li>
</ul>
<h2 id="directorio-instalacion-django">Directorio instalación Django<a class="headerlink" href="#directorio-instalacion-django" title="Permanent link">&para;</a></h2>
<p>Para averiguar dónde están los ficheros de Django, ejecutar el siguiente comando:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">(</span><span class="n">djangodev</span><span class="p">)</span> <span class="err">$</span> <span class="n">python</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;import django; print(django.__path__)&quot;</span>
</pre></div>
</td></tr></table>

<h2 id="tutorial-django">Tutorial Django<a class="headerlink" href="#tutorial-django" title="Permanent link">&para;</a></h2>
<ul>
<li>Escribiendo una view:<ul>
<li><a href="https://docs.djangoproject.com/es/1.11/intro/tutorial01/#write-your-first-view">Escribiendo directamente la HTTP Response</a></li>
<li><a href="https://docs.djangoproject.com/es/1.11/intro/tutorial03/#write-views-that-actually-do-something">Renderizando una plantilla</a></li>
<li><a href="https://docs.djangoproject.com/es/1.11/intro/tutorial03/#removing-hardcoded-urls-in-templates">Gestión de URL's</a></li>
<li><a href="https://docs.djangoproject.com/es/1.11/intro/tutorial04/#write-a-simple-form">Formulario manual</a></li>
<li><a href="https://docs.djangoproject.com/es/1.11/intro/tutorial04/#use-generic-views-less-code-is-better">Formulario con vistas genéricas</a></li>
</ul>
</li>
<li><a href="https://docs.djangoproject.com/es/1.11/intro/tutorial02/#creating-models">Creando modelos</a></li>
<li><a href="https://docs.djangoproject.com/en/1.11/intro/tutorial02/#playing-with-the-api">Manipulación del modelo de datos por CLI</a></li>
<li><a href="https://docs.djangoproject.com/es/1.11/intro/tutorial05/">Tests</a></li>
<li><a href="https://docs.djangoproject.com/es/1.11/intro/tutorial06/">Ficheros estáticos</a>: Inserción de CSS en las vistas.</li>
<li><a href="https://docs.djangoproject.com/en/1.11/intro/tutorial07/#customize-the-admin-form">Modificación representación detalle modelos</a>: fields, fieldsets</li>
<li><a href="https://docs.djangoproject.com/en/1.11/intro/tutorial07/#adding-related-objects">Objetos relacionados en detalle modelos</a>: Inlines</li>
<li><a href="https://docs.djangoproject.com/en/1.11/intro/tutorial07/#customize-the-admin-change-list">Modificación representación lista modelos</a>: list_display, list_filter, search_fields</li>
<li><a href="https://docs.djangoproject.com/en/1.11/intro/tutorial07/#customize-the-admin-look-and-feel">Sustitución de templates en el sitio admin</a></li>
<li><a href="https://docs.djangoproject.com/es/1.11/intro/reusable-apps/">Empaquetado de aplicaciones</a></li>
<li><a href="https://docs.djangoproject.com/en/1.11/topics/email/">Envío de mails</a></li>
</ul>
<h2 id="tutorial-django-de-mozilla-developer-network">Tutorial Django de Mozilla Developer Network<a class="headerlink" href="#tutorial-django-de-mozilla-developer-network" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://developer.mozilla.org/es/docs/Learn/Server-side/Django/Models#Searching_for_records">Using models - Searching for records</a></li>
<li><a href="https://developer.mozilla.org/es/docs/Learn/Server-side/Django/Generic_views">Utilizando las listas genéricas y vistas de detalle</a></li>
<li><a href="https://developer.mozilla.org/es/docs/Learn/Server-side/Django/Authentication">Personalización del subsistema de autenticación</a>: Páginas de login, logout, cambio de password, etc.</li>
<li><a href="https://developer.mozilla.org/es/docs/Learn/Server-side/Django/Authentication#Models">Propiedad calculada en modelo</a>: Sin correspondencia en base de datos.</li>
<li>Formularios:<ul>
<li><a href="https://developer.mozilla.org/es/docs/Learn/Server-side/Django/Forms#Renew-book_form_using_a_Form_and_function_view">Usando Form y view función</a></li>
<li><a href="https://developer.mozilla.org/es/docs/Learn/Server-side/Django/Forms#ModelForms">Usando ModelForm y CRUD Views</a></li>
</ul>
</li>
</ul>
<h2 id="referencia-django">Referencia Django<a class="headerlink" href="#referencia-django" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://docs.djangoproject.com/en/1.11/">Directorio</a></li>
<li><a href="https://docs.djangoproject.com/en/1.11/ref/contrib/admin/actions/">Admin actions</a>: Creación de actions, páginas intermedias al ejecutar actions, gestión de actions.</li>
<li><a href="https://docs.djangoproject.com/es/1.11/topics/auth/default/">Autenticación</a></li>
</ul>
<h2 id="temas-interesantes">Temas interesantes<a class="headerlink" href="#temas-interesantes" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://stackoverflow.com/questions/1205375/filter-by-property">filter, list comprehension y generators</a>. Para filtrar por ejemplo una lista de objetos se pueden utilizar estos tres elementos. Hay que tener en cuenta que <code>filter</code> devuelve un iterator. Si por eejemplo sólo queremos el número de elementos habrá que generar una lista o set con él.</li>
<li><a href="https://simpleisbetterthancomplex.com/tutorial/2016/07/22/how-to-extend-django-user-model.html#abstractuser">How to Extend Django User Model</a>. <a href="https://stackoverflow.com/questions/30495979/django-1-8-multiple-custom-user-types">Este</a> artículo es un ejemplo del caso 4.</li>
</ul>
<h2 id="uso-de-class-views">Uso de Class Views<a class="headerlink" href="#uso-de-class-views" title="Permanent link">&para;</a></h2>
<h3 id="basicas">Básicas<a class="headerlink" href="#basicas" title="Permanent link">&para;</a></h3>
<p>Documentadas <a href="https://docs.djangoproject.com/es/1.11/ref/class-based-views/base/">aquí</a>.</p>
<h4 id="templateview">TemplateView<a class="headerlink" href="#templateview" title="Permanent link">&para;</a></h4>
<p>La más sencilla. Sólo necesita definir la propiedad <code>template_name</code> apuntando a la plantilla. Para añadir datos al contexto (esto funciona en todas las view classes) se puede definir la función <code>get_context_data</code> (ver ejemplo e apartado <code>Passing variables to the template</code> <a href="https://hellowebbooks.com/news/introduction-to-class-based-views/">aquí</a>)</p>
<h4 id="redirectview">RedirectView<a class="headerlink" href="#redirectview" title="Permanent link">&para;</a></h4>
<p>Se puede usar tal cual para definir redirecciones en los ficheros <code>url.py</code>. Por ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^$&#39;</span><span class="p">,</span> <span class="n">RedirectView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">reverse_lazy</span><span class="p">(</span><span class="s1">&#39;admin:index&#39;</span><span class="p">))),</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</td></tr></table>

<p>Pero también se puede heredar de ella para por ejemplo hacer una vista "proxy" para actualizar un contador de visitas a otra vista, como el ejemplo que hay <a href="https://docs.djangoproject.com/es/1.11/ref/class-based-views/base/#redirectview">aquí</a>.</p>
<h3 id="genericas-para-visualizacion-de-modelos">Genéricas para visualización de modelos<a class="headerlink" href="#genericas-para-visualizacion-de-modelos" title="Permanent link">&para;</a></h3>
<p>Son las diseñadas para generar listados y vistas de detalle de un modelo. Son más adecuadas para visualización, como la que se haría por ejemplo en un blog. Documentadas <a href="https://docs.djangoproject.com/en/1.11/ref/class-based-views/generic-display/">aquí</a>.</p>
<p>En las dos clases de este tipo, sólo se necesita definir la propiedad <code>model</code>.</p>
<h4 id="detailview">DetailView<a class="headerlink" href="#detailview" title="Permanent link">&para;</a></h4>
<p>La plantilla se define por convención añadiendo <code>_detail.html</code> al nombre del modelo. Dentro de la plantilla, el objeto que se quiere representar aparece en la variable de contexto <code>object</code>.</p>
<h4 id="listview">ListView<a class="headerlink" href="#listview" title="Permanent link">&para;</a></h4>
<p>La plantilla se define por convención añadiendo <code>_list.html</code> al nombre del modelo. Dentro de la plantilla, la colección de objetos que se quiere representar aparece en la variable de contexto <code>object_list</code>.</p>
<h3 id="genericas-para-edicion-de-modelos">Genéricas para edición de modelos<a class="headerlink" href="#genericas-para-edicion-de-modelos" title="Permanent link">&para;</a></h3>
<p>Permiten personalizar las vistas típicas del mantenimiento de un modelo (creación, actualización y borrado). Documentadas <a href="https://docs.djangoproject.com/es/1.11/ref/class-based-views/generic-editing/">aquí</a>.</p>
<p>En cualquiera de las cuatro siguientes clases, en la plantilla incluiremos los tags HTML para el formulario (no se generan automáticamente porque la página podría contener varios formularios o por si no estamos generando HTML). Se suele hacer algo así:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">&quot;&quot;</span> <span class="na">method=</span><span class="s">&quot;post&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="s2">&quot;{% csrf_token &quot;</span> <span class="cp">}}</span>%}
    <span class="cp">{{</span> <span class="s2">&quot;{{ form &quot;</span> <span class="cp">}}</span>}}
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">value=</span><span class="s">&quot;Save&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</pre></div>
</td></tr></table>

<p>El tag para el formulario tiene tres variantes:</p>
<ul>
<li><code>{{ "{{ form.as_p " }}}}</code>: Cada campo del formulario se genera como un <code>&lt;p&gt;</code>.</li>
<li><code>{{ "{{ form.as_table " }}}}</code>: Cada campo del formulario se genera como una fila de una tabla.</li>
<li><code>{{ "{{ form.as_ul " }}}}</code>: Cada campo del formulario se genera como una lista sin numerar.</li>
</ul>
<p>Para máximo control siempre podemos generar cada campo del formulario por separado o incluso escribir el formulario completo a mano (ver documentación <a href="https://docs.djangoproject.com/es/1.11/topics/forms/">Working with forms</a>).</p>
<h4 id="formview">FormView<a class="headerlink" href="#formview" title="Permanent link">&para;</a></h4>
<p>Gestiona la vista con un formulario genérico. Si se produce error en la validación, vuelve a cargar la misma URL con los campos rellenos e información sobre los errores; Si se supera la validación se redirije a otra URL. En el contexto de la plantilla tendremos el formulario bajo la variable <code>form</code>.</p>
<p>Necesita definir las propiedades siguientes:</p>
<ul>
<li><code>form_class</code>: Clase formulario.</li>
<li><code>success_url</code>: URL a la que se redirije en caso de superar la validación.</li>
<li><code>template_name</code>: Plantilla.</li>
</ul>
<p>También es interesante definir el método siguiente:</p>
<ul>
<li><code>form_valid</code>: Se ejecutará cuando el formulario se valide correctamente. Obtendremos los datos del formulario del diccionario <code>self.form.cleaned_data</code>.</li>
</ul>
<p>Ver ejemplos <a href="https://docs.djangoproject.com/es/1.11/ref/class-based-views/generic-editing/#formview">aquí</a> y en apartado <code>Now for a FormView</code> de <a href="https://hellowebbooks.com/news/introduction-to-class-based-views/">aquí</a>.</p>
<h4 id="createview">CreateView<a class="headerlink" href="#createview" title="Permanent link">&para;</a></h4>
<p>Para la creación de un modelo.</p>
<h4 id="updateview">UpdateView<a class="headerlink" href="#updateview" title="Permanent link">&para;</a></h4>
<p>Para la actualización de un modelo.</p>
<h4 id="deleteview">DeleteView<a class="headerlink" href="#deleteview" title="Permanent link">&para;</a></h4>
<p>Para el borrado de un modelo.</p>
<h3 id="empaquetadas">Empaquetadas<a class="headerlink" href="#empaquetadas" title="Permanent link">&para;</a></h3>
<h4 id="filterview">FilterView<a class="headerlink" href="#filterview" title="Permanent link">&para;</a></h4>
<p>Es una especie de ListView con filtros. Ver documentación <a href="https://django-filter.readthedocs.io/en/master/guide/usage.html">aquí</a>.</p>
<h2 id="idioms">Idioms<a class="headerlink" href="#idioms" title="Permanent link">&para;</a></h2>
<ul>
<li>Retorno seguro del primer elemento de una lista: <code>return (get_list()[:1] or [None])[0]</code></li>
<li>Valor predeterminado en caso de que <code>variable</code> sea None: <code>return variable or 0</code></li>
<li>Acceso seguro al atributo de un objeto: <code>getattr(object, name[, default])</code> La función <a href="https://docs.python.org/3/library/functions.html#getattr">getattr</a> nos permite indicar un valor predeterminado si un objeto no tiene el atributo que buscamos. Funciona también si el objeto es None, lo que nos permite acceder de forma segura a un objeto cuando no sabemos si existe.</li>
<li>Suma de una propiedad de una lista de objetos: <code>suma = sum(logro.puntos for logro in logros_totales)</code></li>
<li>Suma de una propiedad de una lista de objetos: <code>suma = sum(list(map(lambda x: x.puntos, logros_totales)))</code></li>
<li>Operador ternario: <code>valor_cuando_true if condición else valor_cuando_false</code></li>
<li><a href="https://www.pythonforbeginners.com/basics/list-comprehensions-in-python">List comprehensions</a>: <code>new_list = [expression(i) for i in old_list if filter(i)]</code></li>
<li>Filtro de los elementos de una lista que contienen un fragmento de cadena, por ejemplo las constantes de <code>pygame</code> que empiezan por <code>K_</code>: <code>filter(lambda x:'K_' in x, dir(pygame))</code></li>
<li>Switch/case: Se suele utilizar un diccionario como se explica <a href="https://stackoverflow.com/questions/60208/replacements-for-switch-statement-in-python">aquí</a>.</li>
</ul>
<h2 id="template-filters">Template filters<a class="headerlink" href="#template-filters" title="Permanent link">&para;</a></h2>
<ul>
<li><code>{{ variable|default_if_none:"" }}</code>: Muestra el texto pasado como argumento si <code>variable</code> vale <code>None</code>.</li>
<li><code>{{ variable|default:"" }}</code>: Muestra el texto pasado como argumento si <code>variable</code> es evaluada como False (cadena vacía, lista vacía, etc.).</li>
<li><code>{{ variable_date|date:"Y-m-d" }}</code>: Formatea una variable de tipo <code>date</code>. Lista de opciones de formato <a href="https://docs.djangoproject.com/en/2.2/ref/templates/builtins/#date">aquí</a>.</li>
<li><code>{{ variable_list_string|join:", " }}</code>: Concatena una lista de strings.</li>
<li><code>{{ variable_string|urlencode }}</code>: Codifica una string para que sea segura en una URL.</li>
<li><code>{{ variable_string|unicode_decode }}</code>: Decodifica un string en unicode.</li>
<li><code>{{ variable_string|safe }}</code>: Genera los caracteres para poder interpretar el string como HTML en lugar de escaparlos como se haría normalmente.</li>
<li><code>{{ variable_list|length }}</code>: Número de elementos de la lista.</li>
<li><code>{{ variable_int|add:1 }}</code>: Añade 1 a la variable entera.</li>
</ul>
<h2 id="snippets-python">Snippets Python<a class="headerlink" href="#snippets-python" title="Permanent link">&para;</a></h2>
<ul>
<li>Servidor HTTP en el directorio actual: <code>python -m SimpleHTTPServer 8080</code></li>
<li>Convertir un set en un list ordenado: <code>una_lista = sorted(un_set, key=lambda x: x.position)</code></li>
<li>Agregar elementos a un diccionario de listas creando las claves si no existen (<a href="https://stackoverflow.com/questions/12905999/python-dict-how-to-create-key-or-append-an-element-to-key">fuente</a>):<code>dic.setdefault(key,[]).append(value)</code></li>
<li><a href="https://stackoverflow.com/a/311655">Formateo de fechas</a>:<ul>
<li>Predeterminado: la función de conversión a cadena devuelve la fecha en formato ISO: <code>str(datetime.datetime(2008, 11, 22, 19, 53, 42))</code> devuelve <code>2008-11-22 19:53:42</code></li>
<li>Función de impresión con formato: para el resto de formatos utilizar <code>strftime()</code>. Consultar <a href="http://strftime.org/">aquí</a> los códigos de formato.</li>
</ul>
</li>
</ul>
<h2 id="snippets-django">Snippets Django<a class="headerlink" href="#snippets-django" title="Permanent link">&para;</a></h2>
<ul>
<li>Colección completa de objetos de un modelo: <code>Unidad.objects.all()</code></li>
<li>Colección completa de objetos de un modelo ordenada: <code>Unidad.objects.all().order_by('nombre')</code></li>
<li>Colección filtrada de objetos de un modelo: <code>Actividad.objects.filter(fecha__year=2017)</code></li>
<li>Filtro OR (es necesario hacer <code>from django.db.models import Q</code>): <code>GrupoUnidades.objects.filter(Q(pausada=True) | Q(fecha_fin__isnull=False))</code></li>
<li>Instancia concreta de un objeto: <code>Unidad.objects.get(pk=3)</code></li>
<li>Unión de recordsets y distinct:
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">grupos</span> <span class="o">=</span> <span class="n">Grupo</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">none</span><span class="p">()</span>
<span class="k">for</span> <span class="n">curso</span> <span class="ow">in</span> <span class="n">obj</span><span class="o">.</span><span class="n">curso_set</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
    <span class="n">grupos</span> <span class="o">=</span> <span class="n">grupos</span> <span class="o">|</span> <span class="n">curso</span><span class="o">.</span><span class="n">grupo_set</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="n">grupos</span> <span class="o">=</span> <span class="n">grupos</span><span class="o">.</span><span class="n">distinct</span><span class="p">()</span>
</pre></div>
</td></tr></table></li>
</ul>
<h3 id="filtro-en-listview">Filtro en ListView<a class="headerlink" href="#filtro-en-listview" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1"># urls.py</span>
<span class="kn">from</span> <span class="nn">django.conf.urls</span> <span class="kn">import</span> <span class="n">url</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">views</span>

<span class="n">app_name</span> <span class="o">=</span> <span class="s1">&#39;lms&#39;</span>
<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^asistencia/(?P&lt;pk&gt;\d+)/grupo/(?P&lt;admin&gt;\w+)/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">AsistenciaGrupoView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;asistencia_grupo&#39;</span><span class="p">)</span>
<span class="p">]</span>


<span class="c1"># views.py</span>
<span class="k">class</span> <span class="nc">AsistenciaGrupoView</span><span class="p">(</span><span class="n">generic</span><span class="o">.</span><span class="n">ListView</span><span class="p">):</span>
    <span class="n">template_name</span> <span class="o">=</span> <span class="s1">&#39;lms/asistencia_grupo.html&#39;</span>

    <span class="k">def</span> <span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">semanas</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;semanas&#39;</span><span class="p">,</span> <span class="s1">&#39;12&#39;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">Jornada</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">grupo__id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;pk&#39;</span><span class="p">],</span> <span class="n">fecha__gte</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">weeks</span><span class="o">=</span><span class="n">semanas</span><span class="p">))</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;fecha&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_context_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">context</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">AsistenciaGrupoView</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">get_context_data</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1"># Lista de semanas que mostraremos en el combo para filtrar</span>
        <span class="n">context</span><span class="p">[</span><span class="s1">&#39;lista_semanas&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                                    <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>
        <span class="c1"># Parámetro de filtrado del querystring (12 semanas como valor predeterminado)</span>
        <span class="n">context</span><span class="p">[</span><span class="s1">&#39;semanas&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;semanas&#39;</span><span class="p">,</span> <span class="s1">&#39;12&#39;</span><span class="p">))</span>
        <span class="c1"># Valor del PK del grupo recogido de la URL</span>
        <span class="n">context</span><span class="p">[</span><span class="s1">&#39;pk&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;pk&#39;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">context</span>


<span class="c1"># template</span>
    <span class="o">&lt;</span><span class="n">form</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;get&quot;</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;{{ &quot;</span><span class="p">{</span><span class="o">%</span> <span class="n">url</span> <span class="s1">&#39;lms:asistencia_grupo&#39;</span> <span class="n">pk</span> <span class="s2">&quot; }}%}&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">label</span> <span class="k">for</span><span class="o">=</span><span class="s2">&quot;semanas_id&quot;</span><span class="o">&gt;</span><span class="n">Meses</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">select</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;form-control&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;semanas&quot;</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;semanas_id&quot;</span> <span class="n">onchange</span><span class="o">=</span><span class="s1">&#39;if(this.value != 0) { this.form.submit(); }&#39;</span><span class="o">&gt;</span>
            <span class="p">{{</span> <span class="s2">&quot;{</span><span class="si">% f</span><span class="s2">or v, d in lista_semanas &quot;</span> <span class="p">}}</span><span class="o">%</span><span class="p">}</span>
            <span class="o">&lt;</span><span class="n">option</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;{{ &quot;</span><span class="p">{{</span> <span class="n">v</span> <span class="s2">&quot; }}}}&quot;</span><span class="p">{{</span> <span class="s2">&quot;{</span><span class="si">% i</span><span class="s2">f semanas == v &quot;</span> <span class="p">}}</span><span class="o">%</span><span class="p">}</span> <span class="n">selected</span><span class="o">=</span><span class="s1">&#39;selected&#39;</span><span class="p">{{</span> <span class="s2">&quot;{</span><span class="si">% e</span><span class="s2">ndif &quot;</span> <span class="p">}}</span><span class="o">%</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{{</span> <span class="s2">&quot;{{ d &quot;</span> <span class="p">}}}}</span><span class="o">&lt;/</span><span class="n">option</span><span class="o">&gt;</span>
            <span class="p">{{</span> <span class="s2">&quot;{</span><span class="si">% e</span><span class="s2">ndfor &quot;</span> <span class="p">}}</span><span class="o">%</span><span class="p">}</span>
        <span class="o">&lt;/</span><span class="n">select</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
</pre></div>
</td></tr></table>

<h2 id="instrospeccion">Instrospección<a class="headerlink" href="#instrospeccion" title="Permanent link">&para;</a></h2>
<h3 id="lista-de-atributos">Lista de atributos<a class="headerlink" href="#lista-de-atributos" title="Permanent link">&para;</a></h3>
<p>Podemos obtenerlos de dos maneras:</p>
<ul>
<li><code>objeto.__dict__</code></li>
<li><code>vars(objeto)</code></li>
</ul>
<h3 id="lista-de-atributos-y-metodos">Lista de atributos y métodos<a class="headerlink" href="#lista-de-atributos-y-metodos" title="Permanent link">&para;</a></h3>
<ul>
<li><code>dir(objeto)</code></li>
</ul>
<h2 id="logging">Logging<a class="headerlink" href="#logging" title="Permanent link">&para;</a></h2>
<h3 id="log-a-fichero">Log a fichero<a class="headerlink" href="#log-a-fichero" title="Permanent link">&para;</a></h3>
<p>Configurar un logger en el fichero de settings correspondiente añadiendo esto:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>LOGGING = {
    &#39;version&#39;: 1,
    &#39;disable_existing_loggers&#39;: False,
    &#39;handlers&#39;: {
        &#39;file&#39;: {
            &#39;level&#39;: &#39;DEBUG&#39;,
            &#39;class&#39;: &#39;logging.FileHandler&#39;,
            &#39;filename&#39;: &#39;debug.log&#39;,
        },
    },
    &#39;loggers&#39;: {
        &#39;log&#39;: {
            &#39;handlers&#39;: [&#39;file&#39;],
            &#39;level&#39;: &#39;DEBUG&#39;,
            &#39;propagate&#39;: True,
        },
    },
}
</pre></div>
</td></tr></table>

<p>En el módulo donde queramos obtener log, añadir al principio lo siguiente:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<p>Y dentro de la función donde queramos emitir algo al log:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;lo que sea&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<h3 id="log-a-consola">Log a consola<a class="headerlink" href="#log-a-consola" title="Permanent link">&para;</a></h3>
<p>Si sólo queremos imprimir en consola una traza rápida, es más fácil escribiendo simplemente:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s1">&#39;lo que sea&#39;</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<h3 id="traza-de-queries-a-consola">Traza de queries a consola<a class="headerlink" href="#traza-de-queries-a-consola" title="Permanent link">&para;</a></h3>
<p>Configurar el siguiente logger en el fichero de settings correspondiente:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>LOGGING = {
    &#39;version&#39;: 1,
    &#39;filters&#39;: {
        &#39;require_debug_true&#39;: {
            &#39;()&#39;: &#39;django.utils.log.RequireDebugTrue&#39;,
        }
    },
    &#39;handlers&#39;: {
        &#39;console&#39;: {
            &#39;level&#39;: &#39;DEBUG&#39;,
            &#39;filters&#39;: [&#39;require_debug_true&#39;],
            &#39;class&#39;: &#39;logging.StreamHandler&#39;,
        }
    },
    &#39;loggers&#39;: {
        &#39;django.db.backends&#39;: {
            &#39;level&#39;: &#39;DEBUG&#39;,
            &#39;handlers&#39;: [&#39;console&#39;],
        }
    }
}
</pre></div>
</td></tr></table>

<h2 id="pip">pip<a class="headerlink" href="#pip" title="Permanent link">&para;</a></h2>
<h3 id="instalacion-version-especifica-de-un-paquete">Instalación versión específica de un paquete<a class="headerlink" href="#instalacion-version-especifica-de-un-paquete" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ pip install <span class="nv">Django</span><span class="o">==</span><span class="m">1</span>.11.6
</pre></div>
</td></tr></table>

<h2 id="usando-webpack-para-construir-el-frontend">Usando Webpack para construir el frontend<a class="headerlink" href="#usando-webpack-para-construir-el-frontend" title="Permanent link">&para;</a></h2>
<h3 id="enlaces_2">Enlaces:<a class="headerlink" href="#enlaces_2" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://ariera.github.io/2017/09/26/django-webpack-vue-js-setting-up-a-new-project-that-s-easy-to-develop-and-deploy-part-1.html">Django + webpack + Vue.js - setting up a new project that's easy to develop and deploy (part 1)</a></li>
<li><a href="https://owais.lone.pw/blog/webpack-plus-reactjs-and-django/">Using Webpack transparently with Django + hot reloading React components as a bonus</a></li>
<li><a href="https://github.com/owais/webpack-bundle-tracker">webpack-bundle-tracker</a></li>
<li><a href="https://github.com/owais/django-webpack-loader">django-webpack-loader</a></li>
<li><a href="https://github.com/longtranista/django-vue-webpack">django-vue-webpack</a>: A boilerplate of using Django as backend framework, Vue js and webpack as the frontend setup.</li>
<li><a href="https://www.techiediaries.com/django-vuejs-auth0/">Building Modern Applications with Django, Vue.js and Auth0: Part 2</a></li>
</ul>
<h3 id="procedimiento">Procedimiento<a class="headerlink" href="#procedimiento" title="Permanent link">&para;</a></h3>
<ol>
<li>Instalamos Vue-CLI en la máquina de desarrollo:
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>sudo npm install -g @vue/cli
sudo npm install -g @vue/cli-init
</pre></div>
</td></tr></table></li>
<li>Generamos el scaffolding para vue y webpack ejecutando lo siguiente desde el directorio que queremos que contenga el proyecto (en el ejemplo lo llamaremos <code>vue_test</code>):
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>vue init webpack vue_test
</pre></div>
</td></tr></table></li>
<li>Durante la generación del proyecto se nos hacen las siguientes preguntas:<ol>
<li>Vue build: Elegimos <code>Runtime + Compiler</code></li>
<li>Install vue-router?: Elegimos <code>Y</code></li>
<li>Use ESLint to lint your code?: n</li>
<li>Set up unit tests: n</li>
<li>Setup e2e tests with Nightwatch?: n</li>
<li>Should we run <code>npm install</code> for you after the project has been created?: Yes, use NPM</li>
</ol>
</li>
<li>Generamos el scaffolding para Django:
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nb">cd</span> vue_test/
django-admin startproject vue_test .
</pre></div>
</td></tr></table></li>
<li>Instalamos el plugin de webpack <code>webpack-bundle-tracker</code> y el módulo Django <code>django-webpack-loader</code> (con pipenv):
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>npm install --save-dev webpack-bundle-tracker
pipenv install django-webpack-loader
</pre></div>
</td></tr></table></li>
<li>Añadimos <code>webpack_loader</code> a las aplicaciones Django:
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span># ./vue_test/settings.py
INSTALLED_APPS = [
&#39;webpack_loader&#39;,
#...
]
</pre></div>
</td></tr></table></li>
<li>Configurar webpack para que use <code>BundleTracker</code>:
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>// build/webpack.base.conf.js
let BundleTracker = require(&#39;webpack-bundle-tracker&#39;)
module.exports = {
  // ...
  plugins: [
    new BundleTracker({filename: &#39;./webpack-stats.json&#39;}),
  ],
}
</pre></div>
</td></tr></table></li>
<li>Definir las rutas estáticas:<ul>
<li>Configuración webpack:
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>// ./config/index.js
module.exports = {
  build: {
    assetsRoot: path.resolve(__dirname, &#39;../dist/&#39;),
    assetsSubDirectory: &#39;&#39;,
    assetsPublicPath: &#39;/static/&#39;,
    // ...
  },
  dev: {
    assetsPublicPath: &#39;http://localhost:8080/&#39;,
    // ...
  }
}
</pre></div>
</td></tr></table></li>
<li>Configuración Django:
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span># ./vue_test/settings.py
STATICFILES_DIRS = (
    os.path.join(BASE_DIR, &#39;dist&#39;),
    os.path.join(BASE_DIR, &#39;static&#39;),
)
STATIC_ROOT = os.path.join(BASE_DIR, &#39;public&#39;)
STATIC_URL = &#39;/static/&#39;

WEBPACK_LOADER = {
    &#39;DEFAULT&#39;: {
        &#39;BUNDLE_DIR_NAME&#39;: &#39;&#39;,
        &#39;STATS_FILE&#39;: os.path.join(BASE_DIR, &#39;webpack-stats.json&#39;),
    }
}
</pre></div>
</td></tr></table></li>
</ul>
</li>
<li>Configuración webpack para que resuelva los ficheros estáticos desde <code>/static</code>:
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>// build/webpack.base.conf.js
module.exports = {
  resolve: {
    alias: {
      // ...
      &#39;__STATIC__&#39;: resolve(&#39;static&#39;),
    },
}
</pre></div>
</td></tr></table></li>
<li>Configuración del Hot Reload:
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>// build/webpack.dev.conf.js
devServer: {
  headers: {
    &quot;Access-Control-Allow-Origin&quot;:&quot;\*&quot;
  },
  // ...
}
</pre></div>
</td></tr></table></li>
</ol>
<p>Los contenidos estáticos se servirán desde uno y otro entorno de la siguiente forma:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c">&lt;!-- in a Django template --&gt;</span>
<span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;{{ &quot;</span><span class="err">{%</span> <span class="na">static</span> <span class="err">&#39;</span><span class="na">logo</span><span class="err">.</span><span class="na">png</span><span class="err">&#39;</span> <span class="err">&quot;</span> <span class="err">}}%}&quot;</span><span class="p">&gt;</span>

<span class="c">&lt;!-- in a Vue component --&gt;</span>
<span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;~__STATIC__/logo.png&quot;</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table>

<p>Finalmente, para servir los contenidos cliente en desarrollo hay que ejecutar:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nb">cd</span> vue-test
npm run dev
</pre></div>
</td></tr></table>

<p>Y para servir los contenidos del backend:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nb">cd</span> vue-test
pipenv shell
python manage.py runserver
</pre></div>
</td></tr></table>

<p>Cuando hagamos <code>npm run build</code> todo lo gestionado por webpack se compilará dentro del directorio <code>dist</code>.</p>
<p>La documentación de webpack se encuentra <a href="https://vuejs-templates.github.io/webpack">aquí</a>.</p>
<h2 id="instalacion-de-jupyterhub">Instalación de JupyterHub<a class="headerlink" href="#instalacion-de-jupyterhub" title="Permanent link">&para;</a></h2>
<h3 id="enlaces_3">Enlaces<a class="headerlink" href="#enlaces_3" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://github.com/jupyterhub/jupyterhub-deploy-docker">jupyterhub-deploy-docker</a></li>
<li><a href="https://www.dataquest.io/blog/docker-data-science/">Docker for Data Science: Running a Dockerized Jupyter Server</a></li>
<li><a href="https://www.dataquest.io/blog/jupyter-notebook-tips-tricks-shortcuts/">28 Jupyter Notebook tips, tricks, and shortcuts</a></li>
<li><a href="https://www.dataquest.io/blog/jupyter-notebook-tutorial/">Jupyter Notebook for Beginners: A Tutorial</a></li>
<li><a href="https://nbgrader.readthedocs.io/en/stable/">nbgrader</a></li>
</ul>
<h3 id="niveles-de-instalacion">Niveles de instalación<a class="headerlink" href="#niveles-de-instalacion" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://the-littlest-jupyterhub.readthedocs.io/en/latest/">Pequeña - Paquetes sistema</a></li>
<li><a href="https://opendreamkit.org/2018/10/17/jupyterhub-docker/">Media - Docker</a></li>
<li><a href="https://zero-to-jupyterhub.readthedocs.io/en/latest/">Grande - Kubernetes</a></li>
</ul>
<h3 id="instalacion-the-littlest-jupyterhub">Instalación The Littlest JupyterHub<a class="headerlink" href="#instalacion-the-littlest-jupyterhub" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Instalación de dependencias y JupyterHub:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ sudo apt-get install python3 git curl
$ curl https://raw.githubusercontent.com/jupyterhub/the-littlest-jupyterhub/master/bootstrap/bootstrap.py <span class="p">|</span> sudo -E python3 - --admin niubit
</pre></div>
</td></tr></table>

</li>
<li>
<p>Configuración de puerto de Traefik en:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>/opt/tljh/state/traefik.toml
</pre></div>
</td></tr></table>

</li>
<li>
<p>Reinicio de <code>traefik</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ sudo systemctl restart traefik.service
</pre></div>
</td></tr></table>

</li>
<li>
<p>Si queremos detener el servicio hay que desactivar los dos siguientes:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ sudo systemctl disable jupyterhub.service 
$ sudo systemctl disable traefik.service 
</pre></div>
</td></tr></table>

</li>
</ol>
<h3 id="configuracion-de-fichero-de-log">Configuración de fichero de log<a class="headerlink" href="#configuracion-de-fichero-de-log" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Añadimos lo siguiente al final del fichero <code>/opt/tljh/hub/lib/python3.6/site-packages/tljh/jupyterhub_config.py</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>c.JupyterHub.extra_log_file = &#39;/var/log/jupyterhub.log&#39;
</pre></div>
</td></tr></table>

</li>
<li>
<p>Reiniciamos el servicio:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ sudo systemctl restart jupyterhub.service
</pre></div>
</td></tr></table>

</li>
</ol>
<h3 id="anadiendo-modulos-python-al-sistema">Añadiendo módulos Python al sistema<a class="headerlink" href="#anadiendo-modulos-python-al-sistema" title="Permanent link">&para;</a></h3>
<ol>
<li>Abrir una terminal en Jupyter con un usuario admin.</li>
<li>
<p>Ejecutar:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ sudo -E pip install &lt;paquete&gt;
</pre></div>
</td></tr></table>

</li>
</ol>
<h2 id="visualizacion-de-jupyter-notebooks">Visualización de Jupyter Notebooks<a class="headerlink" href="#visualizacion-de-jupyter-notebooks" title="Permanent link">&para;</a></h2>
<p>En <a href="https://www.dataquest.io/blog/jupyter-notebook-tips-tricks-shortcuts/#28sharingnotebooks">este artículo</a> mencionan las siguientes opciones:</p>
<ul>
<li>Share your notebook file with <a href="https://gist.github.com/">gists</a> or on github, both of which render the notebooks. See <a href="https://github.com/dataquestio/solutions/blob/master/Mission202Solution.ipynb">this example</a>.</li>
<li>If you upload your notebook to a github repository, you can use the handy <a href="http://mybinder.org/">mybinder</a> service to allow someone half an hour of interactive Jupyter access to your repository.</li>
<li>Store your notebook e.g. in dropbox and put the link to <a href="http://nbviewer.jupyter.org/">nbviewer</a>. nbviewer will render the notebook from whichever source you host it.</li>
</ul>
<h2 id="impresion-con-formato">Impresión con formato<a class="headerlink" href="#impresion-con-formato" title="Permanent link">&para;</a></h2>
<p>Si queremos que la salida por consola tenga formato, hay que utilizar la codificación de tipo <strong>Set Graphics Mode</strong> que se lista en <a href="http://ascii-table.com/ansi-escape-sequences.php">esta página</a> con el código <code>\033</code> como secuencia de Esc.</p>
<p>Por ejemplo si queremos destacar en negrita la primera palabra de la siguiente frase lo haremos así:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[1m;ERROR</span><span class="se">\033</span><span class="s2">[0m Algo ha salido mal.&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<h2 id="queries-complejas">Queries complejas<a class="headerlink" href="#queries-complejas" title="Permanent link">&para;</a></h2>
<p>Los parámetros que aplicamos al método <a href="https://docs.djangoproject.com/en/1.11/topics/db/queries/#retrieving-specific-objects-with-filters">filter</a> se aplican con un <code>and</code> entre ellos a la query resultante. Para hacer queries más complejas (con <code>and</code> y <code>or</code> con prioridades establecidas con paréntesis) hay que utilizar los <a href="https://docs.djangoproject.com/en/1.11/topics/db/queries/#complex-lookups-with-q-objects">objetos Q</a>.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="php.html" title="PHP" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Anterior
                </span>
                PHP
              </span>
            </div>
          </a>
        
        
          <a href="ror.html" title="Ruby on Rails" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Siguiente
                </span>
                Ruby on Rails
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/eduardofilo" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/eduardofilo" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://linkedin.com/in/edumoreno/" class="md-footer-social__link fa fa-linkedin"></a>
    
      <a href="http://eduardofilo.es" class="md-footer-social__link fa fa-tumblr"></a>
    
      <a href="https://www.youtube.com/c/EduardoMorenoLamana" class="md-footer-social__link fa fa-youtube"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.267712eb.js"></script>
      
        
        
          
          <script src="../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
                <script src="../assets/javascripts/lunr/lunr.es.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>