



<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Apuntes varios sobre algunas de las cosas que necesito recordar, principalmente sobre Desarrollo y Sistemas.">
      
      
      
        <meta name="author" content="Eduardo Moreno Lamana">
      
      
        <meta name="lang:clipboard.copy" content="Copiar al portapapeles">
      
        <meta name="lang:clipboard.copied" content="Copiado al portapapeles">
      
        <meta name="lang:search.language" content="es">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No se encontraron documentos">
      
        <meta name="lang:search.result.one" content="1 documento encontrado">
      
        <meta name="lang:search.result.other" content="# documentos encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.2">
    
    
      
        <title>Spree - Apuntes de eduardofilo</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.3020aac5.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#ff7043">
      
    
    
      <script src="../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
      <link rel="manifest" href="../manifest.webmanifest">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="deep-orange" data-md-color-accent="amber">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#spree" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../index.html" title="Apuntes de eduardofilo" class="md-header-nav__button md-logo">
          
            <img src="../images/eduardofilo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Apuntes de eduardofilo
            </span>
            <span class="md-header-nav__topic">
              Spree
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Teclee para comenzar búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/eduardofilo/eduardofilo.mkdocs/" title="Ir al repositorio" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    eduardofilo.mkdocs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../index.html" title="Blog" class="md-tabs__link">
        Blog
      </a>
    
  </li>

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../cursos/phonegap.html" title="Cursos" class="md-tabs__link">
          Cursos
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="android.html" title="Desarrollo" class="md-tabs__link md-tabs__link--active">
          Desarrollo
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../electronica/arduino.html" title="Electrónica" class="md-tabs__link">
          Electrónica
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../proyectos/headsetcomm.html" title="Proyectos" class="md-tabs__link">
          Proyectos
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../sistemas/android_system.html" title="Sistemas" class="md-tabs__link">
          Sistemas
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../varios/bici.html" title="Varios" class="md-tabs__link">
          Varios
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Apuntes de eduardofilo" class="md-nav__button md-logo">
      
        <img src="../images/eduardofilo.png" width="48" height="48">
      
    </a>
    Apuntes de eduardofilo
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/eduardofilo/eduardofilo.mkdocs/" title="Ir al repositorio" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    eduardofilo.mkdocs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" title="Blog" class="md-nav__link">
      Blog
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2019-07-07-crankshaft-build.html" title="2019-04-20 Compilación OpenAuto para solucionar touch screen" class="md-nav__link">
      2019-04-20 Compilación OpenAuto para solucionar touch screen
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2019-04-20-pong_composite_mod.html" title="2019-04-20 Composite mod en consola Pong" class="md-nav__link">
      2019-04-20 Composite mod en consola Pong
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2019-01-29-bloqueo_telsome.html" title="2019-01-29 Bloqueo de llamadas entrantes en Telsome" class="md-nav__link">
      2019-01-29 Bloqueo de llamadas entrantes en Telsome
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2019-01-26-conversion_apuntes_mkdocs.html" title="2019-01-26 Conversión del sitio de Apuntes a MkDocs" class="md-nav__link">
      2019-01-26 Conversión del sitio de Apuntes a MkDocs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2018-10-20-Octoprint-en-Anet-A8.html" title="2018-10-20 Octoprint en Anet A8" class="md-nav__link">
      2018-10-20 Octoprint en Anet A8
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2018-10-19-crankshaft.html" title="2018-10-18 Crankshaft - AndroidAuto sobre Raspberry Pi" class="md-nav__link">
      2018-10-18 Crankshaft - AndroidAuto sobre Raspberry Pi
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2018-05-05-otto.html" title="2018-05-05 Otto DIY" class="md-nav__link">
      2018-05-05 Otto DIY
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2017-01-14-raspi2-kodi-16-tvheadend.html" title="2017-01-14 Raspberry Pi 3 + KODI 16 + Tvheadend" class="md-nav__link">
      2017-01-14 Raspberry Pi 3 + KODI 16 + Tvheadend
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2016-12-06-raspi3-kodi.html" title="2016-12-06 Raspberry Pi 3 + KODI" class="md-nav__link">
      2016-12-06 Raspberry Pi 3 + KODI
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2016-10-17-raspi-switch.html" title="2016-10-17 Interruputor de encendido para Raspberry Pi" class="md-nav__link">
      2016-10-17 Interruputor de encendido para Raspberry Pi
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2016-08-17-el-mundo-de-ayer.html" title="2016-08-17 El mundo de ayer - Stefan Zweig" class="md-nav__link">
      2016-08-17 El mundo de ayer - Stefan Zweig
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2016-08-02-stm32-vl-discovery.html" title="2016-08-02 Entorno desarrollo STM32 VL Discovery sobre Linux" class="md-nav__link">
      2016-08-02 Entorno desarrollo STM32 VL Discovery sobre Linux
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2016-07-21-PIGRRL-2.html" title="2016-07-21 Configuración PiGRRL-2" class="md-nav__link">
      2016-07-21 Configuración PiGRRL-2
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2016-07-10-wild.html" title="2016-07-10 Wild - Cheryl Strayed" class="md-nav__link">
      2016-07-10 Wild - Cheryl Strayed
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2016-07-02-virus-android.html" title="2016-07-02 Alertas por supuestos virus en Android" class="md-nav__link">
      2016-07-02 Alertas por supuestos virus en Android
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2016-04-10-un-antropologo-en-marte.html" title="2016-04-10 Un antropólogo en Marte - Oliver Sacks" class="md-nav__link">
      2016-04-10 Un antropólogo en Marte - Oliver Sacks
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2016-02-25-los-innovadores.html" title="2016-02-25 Los Innovadores - Walter Isaacson" class="md-nav__link">
      2016-02-25 Los Innovadores - Walter Isaacson
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2015-03-14-raspi2-kodi-tvheadend.html" title="2015-03-14 Raspberry Pi 2 + KODI + Tvheadend" class="md-nav__link">
      2015-03-14 Raspberry Pi 2 + KODI + Tvheadend
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2015-01-09-moviles.html" title="2015-01-09 Móviles recomendables" class="md-nav__link">
      2015-01-09 Móviles recomendables
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2015-01-08-jekyll.html" title="2015-01-08 Jekyll+GitHub Pages" class="md-nav__link">
      2015-01-08 Jekyll+GitHub Pages
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2014-12-26-dokuwiki-raspi.html" title="2014-12-26 Dokuwiki en Raspberry Pi manteniendo los ficheros en NAS" class="md-nav__link">
      2014-12-26 Dokuwiki en Raspberry Pi manteniendo los ficheros en NAS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2014-12-20-micro-placas.html" title="2014-12-20 Micro placas" class="md-nav__link">
      2014-12-20 Micro placas
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2014-12-15-presentacion.html" title="2014-12-15 Presentación" class="md-nav__link">
      2014-12-15 Presentación
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-25" type="checkbox" id="nav-25">
    
    <label class="md-nav__link" for="nav-25">
      Cursos
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-25">
        Cursos
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cursos/phonegap.html" title="Phonegap" class="md-nav__link">
      Phonegap
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-26" type="checkbox" id="nav-26" checked>
    
    <label class="md-nav__link" for="nav-26">
      Desarrollo
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-26">
        Desarrollo
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="android.html" title="Android" class="md-nav__link">
      Android
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="db.html" title="Bases de Datos" class="md-nav__link">
      Bases de Datos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="diseno.html" title="Diseño" class="md-nav__link">
      Diseño
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="dokuwiki.html" title="Dokuwiki" class="md-nav__link">
      Dokuwiki
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="eclipse.html" title="Eclipse" class="md-nav__link">
      Eclipse
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="projects.html" title="Gestión de Proyectos" class="md-nav__link">
      Gestión de Proyectos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="git.html" title="Git" class="md-nav__link">
      Git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="html.html" title="HTML+CSS" class="md-nav__link">
      HTML+CSS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="java.html" title="Java" class="md-nav__link">
      Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="javaee.html" title="JavaEE" class="md-nav__link">
      JavaEE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="javascript.html" title="JavaScript" class="md-nav__link">
      JavaScript
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="joomla.html" title="Joomla" class="md-nav__link">
      Joomla
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="php.html" title="PHP" class="md-nav__link">
      PHP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="python.html" title="Python/Django" class="md-nav__link">
      Python/Django
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="ror.html" title="Ruby on Rails" class="md-nav__link">
      Ruby on Rails
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Spree
      </label>
    
    <a href="spree.html" title="Spree" class="md-nav__link md-nav__link--active">
      Spree
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#enlaces" title="Enlaces" class="md-nav__link">
    Enlaces
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hilos-interesantes-google-group" title="Hilos interesantes Google Group" class="md-nav__link">
    Hilos interesantes Google Group
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extensiones-interesantes" title="Extensiones interesantes" class="md-nav__link">
    Extensiones interesantes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instalacion-en-ubuntu" title="Instalación en Ubuntu" class="md-nav__link">
    Instalación en Ubuntu
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tips" title="Tips" class="md-nav__link">
    Tips
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#override-de-preferencias" title="Override de preferencias" class="md-nav__link">
    Override de preferencias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizacion-de-version" title="Actualización de versión" class="md-nav__link">
    Actualización de versión
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tareas-rake" title="Tareas "rake"" class="md-nav__link">
    Tareas "rake"
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalacion-de-version-20" title="Instalación de versión 2.0" class="md-nav__link">
    Instalación de versión 2.0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuracion-para-enviar-correos" title="Configuración para enviar correos" class="md-nav__link">
    Configuración para enviar correos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuracion-segun-entorno" title="Configuración según entorno" class="md-nav__link">
    Configuración según entorno
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resetear-base-de-datos" title="Resetear base de datos" class="md-nav__link">
    Resetear base de datos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="subl.html" title="Sublime Text 2" class="md-nav__link">
      Sublime Text 2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="svn.html" title="SVN" class="md-nav__link">
      SVN
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="vagrant.html" title="Vagrant" class="md-nav__link">
      Vagrant
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="yii.html" title="Yii" class="md-nav__link">
      Yii
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-27" type="checkbox" id="nav-27">
    
    <label class="md-nav__link" for="nav-27">
      Electrónica
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-27">
        Electrónica
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../electronica/arduino.html" title="Arduino" class="md-nav__link">
      Arduino
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../electronica/3d_printing.html" title="3D Printing" class="md-nav__link">
      3D Printing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../electronica/bus_pirate.html" title="Bus Pirate" class="md-nav__link">
      Bus Pirate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../electronica/m328_transistor_tester.html" title="M328 Transistor Tester" class="md-nav__link">
      M328 Transistor Tester
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../electronica/stm32.html" title="STM32" class="md-nav__link">
      STM32
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-28" type="checkbox" id="nav-28">
    
    <label class="md-nav__link" for="nav-28">
      Proyectos
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-28">
        Proyectos
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../proyectos/headsetcomm.html" title="Headset Commander" class="md-nav__link">
      Headset Commander
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../proyectos/dicom.html" title="Impresión 3D de ecografías" class="md-nav__link">
      Impresión 3D de ecografías
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../proyectos/minecraft.html" title="Minecraft" class="md-nav__link">
      Minecraft
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-29" type="checkbox" id="nav-29">
    
    <label class="md-nav__link" for="nav-29">
      Sistemas
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-29">
        Sistemas
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/android_system.html" title="Android" class="md-nav__link">
      Android
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/soft_imprescindible.html" title="Aplicaciones interesantes" class="md-nav__link">
      Aplicaciones interesantes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/appletv.html" title="AppleTV" class="md-nav__link">
      AppleTV
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/docker.html" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/email.html" title="e-mail" class="md-nav__link">
      e-mail
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/emulacion.html" title="Emulación" class="md-nav__link">
      Emulación
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/impresoras.html" title="Impresoras" class="md-nav__link">
      Impresoras
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/iot.html" title="IOT" class="md-nav__link">
      IOT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/kodi.html" title="Kodi/OpenELEC" class="md-nav__link">
      Kodi/OpenELEC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/macosx.html" title="Mac OS X" class="md-nav__link">
      Mac OS X
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/mandrake.html" title="Mandrake" class="md-nav__link">
      Mandrake
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/mysql.html" title="MySQL" class="md-nav__link">
      MySQL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/nas.html" title="NAS" class="md-nav__link">
      NAS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/odroid.html" title="ODROID" class="md-nav__link">
      ODROID
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/office.html" title="Office" class="md-nav__link">
      Office
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/raspi.html" title="Raspberry Pi" class="md-nav__link">
      Raspberry Pi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/redes.html" title="Redes" class="md-nav__link">
      Redes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/router_xiaomi.html" title="Router Xiaomi MiWiFi 3G" class="md-nav__link">
      Router Xiaomi MiWiFi 3G
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/ubuntu_phone.html" title="Ubuntu Phone" class="md-nav__link">
      Ubuntu Phone
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/ubuntu.html" title="Ubuntu" class="md-nav__link">
      Ubuntu
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/unix.html" title="UNIX" class="md-nav__link">
      UNIX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/trucos_windows.html" title="Windows" class="md-nav__link">
      Windows
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/zx-spectrum.html" title="ZX Spectrum" class="md-nav__link">
      ZX Spectrum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sistemas/zx-uno.html" title="ZX-Uno" class="md-nav__link">
      ZX-Uno
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-30" type="checkbox" id="nav-30">
    
    <label class="md-nav__link" for="nav-30">
      Varios
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-30">
        Varios
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../varios/bici.html" title="Bicicleta" class="md-nav__link">
      Bicicleta
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varios/links.html" title="Enlaces" class="md-nav__link">
      Enlaces
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varios/hogar.html" title="Hogar" class="md-nav__link">
      Hogar
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varios/english.html" title="Inglés" class="md-nav__link">
      Inglés
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varios/corsa_d.html" title="Opel Corsa D" class="md-nav__link">
      Opel Corsa D
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../varios/viajes.html" title="Viajes" class="md-nav__link">
      Viajes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#enlaces" title="Enlaces" class="md-nav__link">
    Enlaces
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hilos-interesantes-google-group" title="Hilos interesantes Google Group" class="md-nav__link">
    Hilos interesantes Google Group
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extensiones-interesantes" title="Extensiones interesantes" class="md-nav__link">
    Extensiones interesantes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instalacion-en-ubuntu" title="Instalación en Ubuntu" class="md-nav__link">
    Instalación en Ubuntu
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tips" title="Tips" class="md-nav__link">
    Tips
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#override-de-preferencias" title="Override de preferencias" class="md-nav__link">
    Override de preferencias
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizacion-de-version" title="Actualización de versión" class="md-nav__link">
    Actualización de versión
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tareas-rake" title="Tareas "rake"" class="md-nav__link">
    Tareas "rake"
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalacion-de-version-20" title="Instalación de versión 2.0" class="md-nav__link">
    Instalación de versión 2.0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuracion-para-enviar-correos" title="Configuración para enviar correos" class="md-nav__link">
    Configuración para enviar correos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuracion-segun-entorno" title="Configuración según entorno" class="md-nav__link">
    Configuración según entorno
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resetear-base-de-datos" title="Resetear base de datos" class="md-nav__link">
    Resetear base de datos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eduardofilo/eduardofilo.mkdocs/edit/master/docs/desarrollo/spree.md" title="Editar esta página" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="spree">Spree<a class="headerlink" href="#spree" title="Permanent link">&para;</a></h1>
<h2 id="enlaces">Enlaces<a class="headerlink" href="#enlaces" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="http://railscasts.com/episodes/298-getting-started-with-spree">Getting Started with Spree</a></li>
<li><a href="http://ruby-journal.com/spree-1-1-stable-deployment-on-heroku/">Spree 1.1 Deployment on Heroku</a></li>
<li><a href="http://quickleft.com/blog/how-to-add-a-custom-model-to-your-spree-app">How To: Add A Custom Model to Your Spree App</a></li>
<li><a href="http://api.spreecommerce.com/">The Spree API Documentation</a> :exclamation:</li>
<li><a href="http://spreecommerce.com/blog/how-to-optimize-your-spree-store-for-search-engines">How to Optimize Your Spree Store for Search Engines</a></li>
<li><a href="http://rvalle.es/crear-extension-spree/">Crear extensión Spree</a></li>
<li><a href="http://spreecommerce.com/blog/ecommerce-tracking-in-spree">Tracking E-commerce With Google Analytics</a> :exclamation:</li>
</ul>
<h2 id="hilos-interesantes-google-group">Hilos interesantes Google Group<a class="headerlink" href="#hilos-interesantes-google-group" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://groups.google.com/forum/?fromgroups=#!topic/spree-user/hZM2vYeBjXA">Add custom admin controller and use custom code inside controller</a></li>
<li><a href="https://groups.google.com/forum/?fromgroups=#!topic/spree-user/Y7xG23yz53w">Do something when state order change to completed</a></li>
<li><a href="https://groups.google.com/forum/?fromgroups=#!topic/spree-user/sCo6yycKyjk">Changing /products path and linking to individual products</a></li>
<li><a href="https://groups.google.com/forum/?fromgroups#!topic/spree-user/q05nXaxjK14">Upgrading Extensions to Spree 2</a></li>
<li><a href="https://groups.google.com/forum/?fromgroups#!topic/spree-user/B7wHm-xUZ-Y/vjQ2YpeS2jgJ">Rich text in product description</a>: Instalación de CKEditor para que se use en todos los texarea de la administración de Spree.</li>
<li><a href="https://groups.google.com/forum/#!topic/spree-user/reB9QRkNkxU">Remove /t/ from uri</a></li>
</ul>
<h2 id="extensiones-interesantes">Extensiones interesantes<a class="headerlink" href="#extensiones-interesantes" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="http://spreecommerce.com/extensions/139-static-content">Static Content</a>: Content management of static pages for Spree. Para páginas como About, Términos legales, etc. (en <a href="https://github.com/spree/spree_static_content">Github</a>) :exclamation:</li>
<li><a href="http://spreecommerce.com/extensions/89-related-products">Related Products</a>: This extension provides a generic way for you to define different types of relationships between your products, by defining a RelationType for each type of relationship you’d like to maintain. (en <a href="http://github.com/spree/spree_related_products">Github</a>) :exclamation:</li>
<li><a href="http://spreecommerce.com/extensions/170-spree-variant-options">Spree Variant Options</a>: Spree Variant Options replaces the radio-button variant selection with groups of option types and values. (en <a href="https://github.com/citrus/spree_variant_options">Github</a>) :exclamation:</li>
<li><a href="https://github.com/spree/spree_editor">SpreeEditor</a>: This extension provides an inline rich-text editor for Spree.</li>
<li><a href="https://github.com/spree/spree-simple-blog">Spree Simple Blog</a>: Adds a simple blog to Spree which works much like <a href="http://github.com/cloudhead/toto/">Toto</a>.</li>
<li><a href="https://github.com/spree/spree_reviews">Spree Reviews</a>: Straightforward review/rating facility.</li>
<li><a href="https://github.com/spree/spree_wishlist">Spree Wishlist</a>: The Spree Wishlist extension enables multiple wishlists per user, as well as managing those as public (sharable) and private. It also includes the ability to notify a friend via email of a recommended product. :exclamation:</li>
<li><a href="https://github.com/spree/spree_email_to_friend">Spree Email to Friend</a>: The Spree Email to Friend extension enables you to send the product reference to your friend via email. :exclamation:</li>
<li><a href="https://github.com/railsdog/spree-google-checkout">Google Checkout</a>: Users can place order through Google Checkout.</li>
<li><a href="https://github.com/stephskardal/spree-sitemaps">Spree Sitemaps</a>: This extension creates sitemaps in .html, .txt, and .xml (google sitemap) formats.</li>
<li><a href="http://spreecommerce.com/extensions/198-spree_videos">Spree_Videos</a>: Display YouTube video(s) on your product page. (en <a href="https://github.com/iloveitaly/Spree-Videos">Github</a>)</li>
<li><a href="http://spreecommerce.com/extensions/267-spree_product_zoom">SpreeProductZoom</a>: A Spree extension that adds lightbox zoom functionality for product images powered by <a href="http://fancyapps.com/fancybox/">fancyBox</a>. (en <a href="https://github.com/spree/spree_product_zoom">Github</a>)</li>
<li><a href="http://spreecommerce.com/extensions/187-sitemap-generator">Sitemap Generator</a>: Spree sitemap generator is a sitemap generator based on the <a href="http://github.com/kjvarga/sitemap_generator">sitemap_generator</a> gem. It adheres to the Sitemap 0.9 protocol specification. (en <a href="https://github.com/joshnuss/spree-sitemap-generator">Github</a>)</li>
<li><a href="http://spreecommerce.com/extensions/172-spree-google-merchant">Spree Google Merchant</a>: This extension provides a product feed for Google Merchant rather than a file that you have to upload. (en <a href="https://github.com/sebastyuiop/spree_google_merchant">Github</a>)</li>
<li><a href="http://spreecommerce.com/extensions/136-spree-magiczoomplus">spree-magiczoomplus</a>: Adds <a href="http://www.magictoolbox.com/magiczoomplus/">MagicZoomPlus</a> to Spree store. (en <a href="https://github.com/hnprashanth/spree-magiczoomplus">Github</a>)</li>
<li><a href="http://spreecommerce.com/extensions/87-spree-social-bookmarks">Spree Social Bookmarks</a>: This extension allows you to add social bookmarking to your products so your customers can share pages. (en <a href="https://github.com/WSMedia/Spree-Social-Bookmarks">Github</a>)</li>
<li><a href="http://spreecommerce.com/extensions/2-volume-pricing">Spree Volume Pricing</a>: This extension uses predefined ranges of quantities to determine the price for a particular product variant. (en <a href="https://github.com/spree/spree_volume_pricing">Github</a>)</li>
<li><a href="http://spreecommerce.com/extensions/3-active-shipping">Active Shipping</a>: Spree calculator that interfaces with USPS, UPS and FedEx via the popular active_shipping plugin. (en <a href="https://github.com/Shopify/active_shipping">Github</a>)</li>
<li><a href="http://spreecommerce.com/extensions/78-payment-methods-with-range">Payment Methods With Range</a>: This extensions allow declaring payment methods only available for a certain order amount. (en <a href="https://github.com/jpl/spree-payment-methods-with-range">Github</a>)</li>
<li><a href="http://spreecommerce.com/extensions/29-print-invoice">Print Invoice</a>: Generación de facturas en PDF en el backend. (en <a href="https://github.com/spree/spree_print_invoice">Github</a>)</li>
<li><a href="https://github.com/spree/spree-product-assembly">Product Assembly</a>: Create a product which is composed of other products.</li>
<li><a href="https://github.com/jdutil/spree_bootstrap">SpreeBootstrap</a>: This project aims to replace the spree_frontend's use of the skeleton css framework in favor of Twitter Bootstrap.</li>
<li><a href="https://github.com/jdutil/spree_contact_us">SpreeContactUs</a>: A Rails 3+ Engine providing a basic contact form as a Spree Extension.</li>
</ul>
<h2 id="instalacion-en-ubuntu">Instalación en Ubuntu<a class="headerlink" href="#instalacion-en-ubuntu" title="Permanent link">&para;</a></h2>
<p>A los paquetes necesarios para la instalación de <a href="/desarrollo/ror.html">Rails</a> hay que añadir:</p>
<ul>
<li><code>libxml2-dev</code></li>
<li><code>libxslt1-dev</code></li>
<li><code>git</code></li>
</ul>
<h2 id="tips">Tips<a class="headerlink" href="#tips" title="Permanent link">&para;</a></h2>
<h3 id="override-de-preferencias">Override de preferencias<a class="headerlink" href="#override-de-preferencias" title="Permanent link">&para;</a></h3>
<p>Crear el fichero <code>config/initializers/spree_config.rb</code> y hacer un set de las propiedades. Por ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1">#encoding: utf-8</span>
<span class="no">Spree</span><span class="o">::</span><span class="no">Config</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="ss">logo</span><span class="p">:</span> <span class="s2">&quot;store/myapp_logo.png&quot;</span><span class="p">)</span>
<span class="no">Spree</span><span class="o">::</span><span class="no">Config</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="ss">site_name</span><span class="p">:</span> <span class="s1">&#39;MyApp&#39;</span><span class="p">)</span>
<span class="no">Spree</span><span class="o">::</span><span class="no">Config</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="ss">currency</span><span class="p">:</span> <span class="s1">&#39;EUR&#39;</span><span class="p">)</span>
<span class="no">Spree</span><span class="o">::</span><span class="no">Config</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="ss">currency_symbol_position</span><span class="p">:</span> <span class="s1">&#39;after&#39;</span><span class="p">)</span>
<span class="no">Spree</span><span class="o">::</span><span class="no">Config</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="ss">default_meta_description</span><span class="p">:</span> <span class="s1">&#39;MyApp&#39;</span><span class="p">)</span>
<span class="no">Spree</span><span class="o">::</span><span class="no">Config</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="ss">default_meta_keywords</span><span class="p">:</span> <span class="s1">&#39;mis palabras clave&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<p>Todas las preferencias posibles están definidas en el fichero <code>core/app/models/spree/app_configuration.rb</code>.</p>
<p>Las preferencias ajustadas de esta forma acaban en la base de datos en la tabla <code>spree_preferences</code>. Si se quita alguna de las lineas anteriores, hay que eliminar el registro correspondiente para que deje de hacer efecto. En ocasiones no es suficiente con esto, ya que también puede influir el hecho de que algunas queries son cacheadas. En ese caso hay que borrar el directorio <code>tmp/cache</code>.</p>
<h3 id="actualizacion-de-version">Actualización de versión<a class="headerlink" href="#actualizacion-de-version" title="Permanent link">&para;</a></h3>
<p>Cuando aparezca una nueva versión de Spree y se quiera actualizar hay que proceder como sigue:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ bundle update spree
$ bundle <span class="nb">exec</span> rake railties:install:migrations
$ bundle <span class="nb">exec</span> rake db:migrate
</pre></div>
</td></tr></table>

<h3 id="tareas-rake">Tareas "rake"<a class="headerlink" href="#tareas-rake" title="Permanent link">&para;</a></h3>
<ul>
<li><code>bundle exec rake assets:precompile:nondigest</code>: Mejora el rendimiento en el entorno de desarrollo a costa de no refrescar en tiempo real los cambios en los assets.</li>
<li><code>bundle exec rake assets:clean</code>: Borra el directorio <code>public/assets</code>.</li>
<li><code>bundle exec rake assets:precompile</code>: Reconstruye el directorio <code>public/assets</code>. </li>
<li><code>bundle exec rake spree_auth:admin:create</code>: Crea un usuario administrador.</li>
<li><code>bundle exec rake spree_sample:load</code>: Cargar los datos de ejemplo. Exige ejecutar previamente <code>bundle exec rake db:seed</code></li>
</ul>
<h3 id="instalacion-de-version-20">Instalación de versión 2.0<a class="headerlink" href="#instalacion-de-version-20" title="Permanent link">&para;</a></h3>
<p>El instalador de las últimas versiones no es del todo redondo (al menos en el momento de escribir esto) y da algunos errores. Para superarlos hay que proceder como sigue.</p>
<p>Ejecutar en consola lo siguiente:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ rails new spapp
</pre></div>
</td></tr></table>

<p>Modificamos la linea de la gem <code>jquery-rails</code> poniendo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>gem &#39;jquery-rails&#39;, &#39;~&gt; 2.2.1&#39;
</pre></div>
</td></tr></table>

<p>Ejecutamos:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ <span class="nb">cd</span> spapp
$ spree install
</pre></div>
</td></tr></table>

<p>Decimos "yes" a todas las preguntas. Cuando termine volvemos a modificar Gemfile sustituyendo las versiones de las gems de Spree que ha añadido el script por las siguientes:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>gem &#39;spree&#39;, :github =&gt; &#39;spree/spree&#39;, :branch =&gt; &#39;2-0-stable&#39;
gem &#39;spree_gateway&#39;, :github =&gt; &#39;spree/spree_gateway&#39;, :branch =&gt; &#39;2-0-stable&#39;
gem &#39;spree_auth_devise&#39;, :github =&gt; &#39;spree/spree_auth_devise&#39;, :branch =&gt; &#39;2-0-stable&#39;
</pre></div>
</td></tr></table>

<p>Finalmente de nuevo ejecutamos:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ bundle install
</pre></div>
</td></tr></table>

<h3 id="configuracion-para-enviar-correos">Configuración para enviar correos<a class="headerlink" href="#configuracion-para-enviar-correos" title="Permanent link">&para;</a></h3>
<p>Hay dos formas:</p>
<ol>
<li>Configurando directamente el ActionMailer por código</li>
<li>Usando el override que permite configurar el ActionMailer en el backend</li>
</ol>
<p>Para el primer tipo empezamos poniendo las siguientes preferencias en el fichero <code>config/initializers/spree.rb</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">override_actionmailer_config</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">config</span><span class="o">.</span><span class="n">mails_from</span> <span class="o">=</span> <span class="s2">&quot;origen@mail.com&quot;</span>
</pre></div>
</td></tr></table>

<p>Luego añadimos lo siguiente en el fichero de configuración del entorno, por ejemplo en development sería <code>config/environments/development.rb</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">action_mailer</span><span class="o">.</span><span class="n">delivery_method</span> <span class="o">=</span> <span class="ss">:smtp</span>
<span class="n">config</span><span class="o">.</span><span class="n">action_mailer</span><span class="o">.</span><span class="n">smtp_settings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">address</span><span class="p">:</span>              <span class="s1">&#39;smtp.gmail.com&#39;</span><span class="p">,</span>
  <span class="ss">port</span><span class="p">:</span>                 <span class="mi">587</span><span class="p">,</span>
  <span class="ss">domain</span><span class="p">:</span>               <span class="s1">&#39;gmail.com&#39;</span><span class="p">,</span>
  <span class="ss">user_name</span><span class="p">:</span>            <span class="s1">&#39;user_id&#39;</span><span class="p">,</span>  <span class="c1"># No es necesario poner @gmail.com</span>
  <span class="ss">password</span><span class="p">:</span>             <span class="s1">&#39;password&#39;</span><span class="p">,</span>
  <span class="ss">authentication</span><span class="p">:</span>       <span class="s1">&#39;plain&#39;</span><span class="p">,</span>
  <span class="ss">enable_starttls_auto</span><span class="p">:</span> <span class="kp">true</span>  <span class="p">}</span>
</pre></div>
</td></tr></table>

<p>En teoría con esto sería suficiente, pero en las primeras pruebas hechas, sólo funcionó con la versión 2.5.3 de la gem <code>mail</code>, por lo que hubo que especificarla en el Gemfile:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">gem</span> <span class="s1">&#39;mail&#39;</span><span class="p">,</span> <span class="s1">&#39;2.5.3&#39;</span>
</pre></div>
</td></tr></table>

<p>La última versión de <code>mail</code> es la 2.5.4 que será la que normalmente esté instalada. Para hacer el downgrade hay que ejecutar desde el directorio de nuestro proyecto:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ bundle update mail
</pre></div>
</td></tr></table>

<p>En posteriores versiones de las gemas ya funcionaba con la versión 2.5.4 de <code>mail</code> por lo que dejó de ser necesario hacer este apaño.</p>
<p>Para el segundo tipo de configuración empezamos poniendo las siguientes preferencias en el fichero <code>config/initializers/spree.rb</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">config</span><span class="o">.</span><span class="n">override_actionmailer_config</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">config</span><span class="o">.</span><span class="n">mails_from</span> <span class="o">=</span> <span class="s2">&quot;origen@mail.com&quot;</span>
</pre></div>
</td></tr></table>

<p>Como siempre que se tocan las preferencias, hay que vigilar si ya existe versión de la misma en la tabla <code>spree_preferences</code> y si está la consulta a esta tabla cacheada, por lo que habrá que borrar el directorio <code>tmp/cache</code>.</p>
<p>Luego deberemos acudir en el backend a la siguiente ruta: "Configuraciones / Preferencias métodos de email". Hay que tener en cuenta que este grupo de opciones sólo aparece si la opción <code>override_actionmailer_config</code> tiene el valor true. A continuación se muestran pantallazos de un par de configuraciones que se ha probado que funcionan:</p>
<p><img alt="Conf con GMail" src="/images/pages/conf_gmail.png" title="Configuración con GMail" /></p>
<p><img alt="Conf con DH" src="/images/pages/conf_dh.png" title="Configuración con DinaHosting" /></p>
<h3 id="configuracion-segun-entorno">Configuración según entorno<a class="headerlink" href="#configuracion-segun-entorno" title="Permanent link">&para;</a></h3>
<p>Si queremos ajustar algunas preferencias en el initializer <code>config/initializers/spree.rb</code> de manera que su valor dependa del environment, podemos hacer lo siguiente:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="no">Spree</span><span class="o">.</span><span class="n">config</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="k">if</span> <span class="no">Rails</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">production?</span>
    <span class="n">config</span><span class="o">.</span><span class="n">mail_port</span> <span class="o">=</span> <span class="mi">1025</span>
    <span class="c1"># other configs ..</span>
  <span class="k">else</span>
    <span class="n">config</span><span class="o">.</span><span class="n">mail_port</span> <span class="o">=</span> <span class="mi">25</span>
    <span class="c1"># other configs ..</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</td></tr></table>

<h3 id="resetear-base-de-datos">Resetear base de datos<a class="headerlink" href="#resetear-base-de-datos" title="Permanent link">&para;</a></h3>
<p>Si queremos comenzar de nuevo en lo que respecta a la base de datos, se puede hacer fácilmente con el siguiente comando:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ bundle <span class="nb">exec</span> rake db:reset
</pre></div>
</td></tr></table>

<p>A nivel de ficheros habrá que hacer la limpieza a mano. En el Spree básico, como mínimo habría que borrar el directorio <code>rails_root/public/spree/products</code>.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="ror.html" title="Ruby on Rails" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Anterior
                </span>
                Ruby on Rails
              </span>
            </div>
          </a>
        
        
          <a href="subl.html" title="Sublime Text 2" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Siguiente
                </span>
                Sublime Text 2
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/eduardofilo" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/eduardofilo" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://linkedin.com/in/edumoreno/" class="md-footer-social__link fa fa-linkedin"></a>
    
      <a href="http://eduardofilo.es" class="md-footer-social__link fa fa-tumblr"></a>
    
      <a href="https://www.youtube.com/c/EduardoMorenoLamana" class="md-footer-social__link fa fa-youtube"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.267712eb.js"></script>
      
        
        
          
          <script src="../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
                <script src="../assets/javascripts/lunr/lunr.es.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>